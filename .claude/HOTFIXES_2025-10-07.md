# üî• –≠–ö–°–¢–†–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ù–ê PRODUCTION
## –î–∞—Ç–∞: 2025-10-07
## –°–µ—Å—Å–∏—è: Claude Code Integration

> ‚ö†Ô∏è **–í–ê–ñ–ù–û**: –≠—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—ã–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –ù–ê–ü–†–Ø–ú–£–Æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ production (5.35.88.251)
> –ü–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º –¥–µ–ø–ª–æ–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –í–°–ï –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ—Å—Ç—å –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –∫–æ–ø–∏–∏!

---

## üìã –°–ü–ò–°–û–ö –§–ê–ô–õ–û–í –° –ò–ó–ú–ï–ù–ï–ù–ò–Ø–ú–ò

### 1. `web-admin/pages/üë•_–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.py`
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ö–†–ò–¢–ò–ß–ù–û - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ**: 14:01 UTC (21:01 Kemerovo)

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è:
1. **–ò–º–ø–æ—Ä—Ç timezone** (—Å—Ç—Ä–æ–∫–∞ 11):
   ```python
   from datetime import datetime, timedelta, timezone  # –î–æ–±–∞–≤–ª–µ–Ω timezone
   ```

2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω JOIN —Å —Ç–∞–±–ª–∏—Ü–µ–π users** (—Å—Ç—Ä–æ–∫–∞ 96):
   ```python
   # –ë–´–õ–û:
   LEFT JOIN users u ON s.telegram_id = u.id

   # –°–¢–ê–õ–û:
   LEFT JOIN users u ON s.telegram_id = u.telegram_id
   ```

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ interview_data JSONB** (—Å—Ç—Ä–æ–∫–∏ 112-142):
   - –£–±—Ä–∞–Ω –∑–∞–ø—Ä–æ—Å –∫ user_answers (—Ç–∞–º –ø—É—Å—Ç–æ)
   - –î–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ sessions.interview_data (JSONB –ø–æ–ª–µ)
   - –î–æ–±–∞–≤–ª–µ–Ω –º–∞–ø–ø–∏–Ω–≥ field_name ‚Üí question_text —á–µ—Ä–µ–∑ –∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

4. **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è format_datetime_kemerovo()** (—Å—Ç—Ä–æ–∫–∏ 168-208):
   - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ GMT+7 (–ö–µ–º–µ—Ä–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è)
   - –ë–µ–∑ —Å–µ–∫—É–Ω–¥: "07 –æ–∫—Ç—è–±—Ä—è 2025, 20:16"
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ naive datetime (–±–µ–∑ –¥–≤–æ–π–Ω–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏)

5. **–£–ø—Ä–æ—â–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ TXT** (—Å—Ç—Ä–æ–∫–∏ 623-657):
   - –£–±—Ä–∞–Ω –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π button "–≠–∫—Å–ø–æ—Ä—Ç TXT"
   - –°—Ä–∞–∑—É –∫–Ω–æ–ø–∫–∞ "üì• –°–∫–∞—á–∞—Ç—å TXT"
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è format_datetime_kemerovo() –¥–ª—è –¥–∞—Ç

#### –§–∞–π–ª –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
/var/GrantService/web-admin/pages/üë•_–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.py

# –õ–æ–∫–∞–ª—å–Ω–æ:
C:\SnowWhiteAI\GrantService\web-admin\pages\üë•_–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.py
```

---

### 2. `web-admin/pages/ü§ñ_–ê–≥–µ–Ω—Ç—ã.py`
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ö–†–ò–¢–ò–ß–ù–û - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞–º–∏
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ**: 13:01 UTC (20:01 Kemerovo)

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è:

1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç logger** (—Å—Ç—Ä–æ–∫–∞ 144):
   ```python
   # –ë–´–õ–û:
   logger.warning(f"Stage tracker not available: {e}")

   # –°–¢–ê–õ–û:
   # logger not available yet at this point in imports
   ```

2. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ reviewer –≤ get_agent_statistics()** (—Å—Ç—Ä–æ–∫–∏ 318-332):
   ```python
   elif agent_type == 'reviewer':
       # Reviewer uses same data as auditor
       result = execute_query("""
           SELECT COUNT(*) as total, ...
           FROM auditor_results ...
       """)
       return result[0] if result else {}

   # Default fallback
   return {}
   ```

3. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç None –≤ render_reviewer_statistics()** (—Å—Ç—Ä–æ–∫–∏ 1356-1358):
   ```python
   # Safety check: if stats is None, use empty dict
   if stats is None:
       stats = {}
   ```

4. **–î–û–ë–ê–í–õ–ï–ù–´ –ù–û–í–´–ï –§–£–ù–ö–¶–ò–ò** (—Å—Ç—Ä–æ–∫–∏ 257-345):
   - `get_interview_questions()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
   - `update_interview_question(question_id, **kwargs)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
   - `insert_interview_question(...)` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
   - `delete_interview_question(question_id)` - —É–¥–∞–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞

5. **–î–æ–±–∞–≤–ª–µ–Ω UI –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤** (—Å—Ç—Ä–æ–∫–∏ 447-582):
   - –ö–Ω–æ–ø–∫–∞ "‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" (—Å—Ç—Ä–æ–∫–∏ 477-480)
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ hint_text (—Å—Ç—Ä–æ–∫–∏ 454-455)
   - –ü–æ–ª–Ω–∞—è —Ñ–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏ (—Å—Ç—Ä–æ–∫–∏ 499-582)

#### –§–∞–π–ª –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
/var/GrantService/web-admin/pages/ü§ñ_–ê–≥–µ–Ω—Ç—ã.py

# –õ–æ–∫–∞–ª—å–Ω–æ:
C:\SnowWhiteAI\GrantService\web-admin\pages\ü§ñ_–ê–≥–µ–Ω—Ç—ã.py
```

---

### 3. `telegram-bot/main.py`
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í–ê–ñ–ù–û - –ò–∑–º–µ–Ω–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ**: 14:06 UTC (21:06 Kemerovo)

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è:

1. **–ö–Ω–æ–ø–∫–∞ "–û –ì—Ä–∞–Ω—Ç—Å–µ—Ä–≤–∏—Å–µ" —Å—Ç–∞–ª–∞ URL button** (—Å—Ç—Ä–æ–∫–∞ 701):
   ```python
   # –ë–´–õ–û:
   [InlineKeyboardButton("‚ÑπÔ∏è –û –ì—Ä–∞–Ω—Ç—Å–µ—Ä–≤–∏—Å–µ", callback_data="about")]

   # –°–¢–ê–õ–û:
   [InlineKeyboardButton("‚ÑπÔ∏è –û –ì—Ä–∞–Ω—Ç—Å–µ—Ä–≤–∏—Å–µ", url="https://–≥—Ä–∞–Ω—Ç—Å–µ—Ä–≤–∏—Å.—Ä—Ñ")]
   ```

2. **–£–¥–∞–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ callback "about"** (—Å—Ç—Ä–æ–∫–∞ 954):
   ```python
   # –ë–´–õ–û:
   elif callback_data == "about":
       about_text = """..."""
       await query.edit_message_text(...)

   # –°–¢–ê–õ–û:
   # Removed: "about" button now opens URL directly (no callback needed)
   ```

#### –§–∞–π–ª –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
/var/GrantService/telegram-bot/main.py

# –õ–æ–∫–∞–ª—å–Ω–æ:
C:\SnowWhiteAI\GrantService\telegram-bot\main.py
```

---

## üóÑÔ∏è –ú–ò–ì–†–ê–¶–ò–ò –ë–ê–ó–´ –î–ê–ù–ù–´–•

### 4. `database/migrations/007_replace_interview_questions.sql`
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–†–ò–ú–ï–ù–ï–ù–ê –Ω–∞ production
**–î–∞—Ç–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**: 13:13 UTC (20:13 Kemerovo)

#### –û–ø–∏—Å–∞–Ω–∏–µ:
- –°–¥–≤–∏–Ω—É—Ç—ã —Å—Ç–∞—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã —Å 1-24 –Ω–∞ 15-38
- –í—Å–µ —Å—Ç–∞—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã (is_active = false)
- –î–æ–±–∞–≤–ª–µ–Ω—ã 14 –Ω–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (1-14) —Å hint_text

#### –°–∫—Ä–∏–ø—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
/var/GrantService/apply_migration_007.py

# –õ–æ–∫–∞–ª—å–Ω–æ:
C:\SnowWhiteAI\GrantService\apply_migration_007.py
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- **–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤**: 39
- **–ê–∫—Ç–∏–≤–Ω—ã—Ö**: 14 (–Ω–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã 1-14)
- **–ù–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö**: 25 (—Å—Ç–∞—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã 15-39)

---

### 5. `fix_grant_direction_question.py`
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–†–ò–ú–ï–ù–ï–ù –Ω–∞ production
**–î–∞—Ç–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**: 13:18 UTC (20:18 Kemerovo)

#### –û–ø–∏—Å–∞–Ω–∏–µ:
- –í–æ–ø—Ä–æ—Å "–í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä–∞–Ω—Ç–æ–≤–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ" –ø–µ—Ä–µ–º–µ—â–µ–Ω —Å –ø–æ–∑–∏—Ü–∏–∏ 29 –Ω–∞ 15
- –í–æ–ø—Ä–æ—Å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (is_active = true)

#### –°–∫—Ä–∏–ø—Ç:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
/var/GrantService/fix_grant_direction_question.py

# –õ–æ–∫–∞–ª—å–Ω–æ:
C:\SnowWhiteAI\GrantService\fix_grant_direction_question.py
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- **–ê–∫—Ç–∏–≤–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤**: 15 (14 –Ω–æ–≤—ã—Ö + 1 –≥—Ä–∞–Ω—Ç–æ–≤–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)

---

## üì¶ –ù–û–í–´–ï –§–ê–ô–õ–´ (–°–û–ó–î–ê–ù–´ –ù–ê –°–ï–†–í–ï–†–ï)

### Debug/Test Scripts (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è –¥–µ–ø–ª–æ—è):
1. `check_current_questions.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
2. `debug_user_answers.py` - –æ—Ç–ª–∞–¥–∫–∞ user_answers
3. `check_user_sessions.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. `check_interview_data.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ JSONB –ø–æ–ª–µ–π

---

## ‚úÖ CHECKLIST –ü–ï–†–ï–î –°–õ–ï–î–£–Æ–©–ò–ú –î–ï–ü–õ–û–ï–ú

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
```bash
# –°—Ä–∞–≤–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã —Å —ç—Ç–∏–º —Å–ø–∏—Å–∫–æ–º
diff web-admin/pages/üë•_–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.py [production_version]
diff web-admin/pages/ü§ñ_–ê–≥–µ–Ω—Ç—ã.py [production_version]
diff telegram-bot/main.py [production_version]
```

### –®–∞–≥ 2: –£–±–µ–¥–∏—Ç—å—Å—è –≤ –Ω–∞–ª–∏—á–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
ls database/migrations/007_replace_interview_questions.sql
ls apply_migration_007.py
ls fix_grant_direction_question.py
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å backup –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
```bash
ssh root@5.35.88.251 "cd /var/GrantService && \
  cp web-admin/pages/üë•_–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.py web-admin/pages/üë•_–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.py.backup-$(date +%Y%m%d) && \
  cp web-admin/pages/ü§ñ_–ê–≥–µ–Ω—Ç—ã.py web-admin/pages/ü§ñ_–ê–≥–µ–Ω—Ç—ã.py.backup-$(date +%Y%m%d) && \
  cp telegram-bot/main.py telegram-bot/main.py.backup-$(date +%Y%m%d)"
```

### –®–∞–≥ 4: –î–µ–ø–ª–æ–π
```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
scp web-admin/pages/üë•_–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.py root@5.35.88.251:/var/GrantService/web-admin/pages/
scp web-admin/pages/ü§ñ_–ê–≥–µ–Ω—Ç—ã.py root@5.35.88.251:/var/GrantService/web-admin/pages/
scp telegram-bot/main.py root@5.35.88.251:/var/GrantService/telegram-bot/

# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
ssh root@5.35.88.251 "systemctl restart grantservice-admin grantservice-bot"

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
ssh root@5.35.88.251 "systemctl status grantservice-admin grantservice-bot"
```

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò–ó–ú–ï–ù–ï–ù–ò–ô

| –§–∞–π–ª | –°—Ç—Ä–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–æ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –°—Ç–∞—Ç—É—Å |
|------|---------------|-------------|--------|
| üë•_–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.py | ~150 | üî¥ –í–´–°–û–ö–ê–Ø | ‚úÖ –ù–∞ prod |
| ü§ñ_–ê–≥–µ–Ω—Ç—ã.py | ~150 | üî¥ –í–´–°–û–ö–ê–Ø | ‚úÖ –ù–∞ prod |
| main.py (bot) | ~5 | üü° –°–†–ï–î–ù–Ø–Ø | ‚úÖ –ù–∞ prod |
| Migration 007 | SQL | üî¥ –í–´–°–û–ö–ê–Ø | ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ |
| Fix Q15 | SQL | üü° –°–†–ï–î–ù–Ø–Ø | ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ |

---

## üîç –ö–õ–Æ–ß–ï–í–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –ü–û –ü–†–ò–û–†–ò–¢–ï–¢–£

### üî¥ –ö–†–ò–¢–ò–ß–ù–´–ï (–ë–µ–∑ –Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):
1. ‚úÖ **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ interview_data JSONB** - –∏–Ω–∞—á–µ –∞–Ω–∫–µ—Ç—ã –ø—É—Å—Ç—ã–µ
2. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ JOIN —Å users** - –∏–Ω–∞—á–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. ‚úÖ **–ú–∏–≥—Ä–∞—Ü–∏—è 007 (14Q)** - –Ω–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –±–æ—Ç–∞
4. ‚úÖ **–§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞–º–∏** - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### üü° –í–ê–ñ–ù–´–ï (–£–ª—É—á—à–∞—é—Ç UX):
1. ‚úÖ **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ GMT+7** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞—Ç
2. ‚úÖ **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞** - –æ–¥–∏–Ω –∫–ª–∏–∫ –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö
3. ‚úÖ **URL button –¥–ª—è "–û –ì—Ä–∞–Ω—Ç—Å–µ—Ä–≤–∏—Å–µ"** - –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–π—Ç

### üü¢ –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï (–ú–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å):
1. Debug —Å–∫—Ä–∏–ø—Ç—ã - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üìù –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

### –í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

1. **interview_data –≤ sessions**:
   - –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç–≤–µ—Ç—ã –≤ JSONB –ø–æ–ª–µ `sessions.interview_data`
   - –§–æ—Ä–º–∞—Ç: `{"field_name": "answer_value", ...}`
   - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ `user_answers` (—Ç–∞–º 0 –∑–∞–ø–∏—Å–µ–π)

2. **Timezone handling**:
   - PostgreSQL TIMESTAMP WITHOUT TIME ZONE —Ö—Ä–∞–Ω–∏—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (GMT+7)
   - Naive datetime –ù–ï —Ç—Ä–µ–±—É–µ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
   - Timezone-aware datetime –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ GMT+7

3. **–í–æ–ø—Ä–æ—Å—ã –∏–Ω—Ç–µ—Ä–≤—å—é**:
   - –ê–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã: is_active = true (–≤–æ–ø—Ä–æ—Å—ã 1-15)
   - –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ: —Å—Ç–∞—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã (15-39) —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏
   - –ö–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –∏–º–µ–µ—Ç hint_text –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫

---

## üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö –î–ï–ü–õ–û–£

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: üü° –¢–†–ï–ë–£–ï–¢–°–Ø –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø

**–î–µ–π—Å—Ç–≤–∏—è**:
1. ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ production
2. ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é
3. ‚ö†Ô∏è –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
4. ‚úÖ –°–æ–∑–¥–∞—Ç—å backup –Ω–∞ production
5. ‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–ø–ª–æ–π
6. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

---

## üìû –ö–û–ù–¢–ê–ö–¢–´

**Production Server**: 5.35.88.251
**Admin Panel**: https://grantservice.onff.ru
**Website**: https://–≥—Ä–∞–Ω—Ç—Å–µ—Ä–≤–∏—Å.—Ä—Ñ
**Support**: @otinoff_support

---

**–°–æ–∑–¥–∞–Ω–æ**: 2025-10-07 21:15 GMT+7 (Kemerovo)
**–ê–≤—Ç–æ—Ä**: Claude Code Integration Session
**–í–µ—Ä—Å–∏—è**: 1.0
