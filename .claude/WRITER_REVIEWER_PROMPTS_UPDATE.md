# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ü—Ä–æ–º–ø—Ç–æ–≤ Writer V2 –∏ Reviewer

**–î–∞—Ç–∞**: 2025-10-09
**–û—Å–Ω–æ–≤–∞**: –ê–Ω–∞–ª–∏–∑ 3 —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞—è–≤–æ–∫ –Ω–∞ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–µ –≥—Ä–∞–Ω—Ç—ã

---

## üìå Summary of Changes

### Critical Priority (Must Implement):
1. ‚úÖ **–†–∞–∑–¥–µ–ª "–ü—Ä–æ–±–ª–µ–º–∞"** - —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å 1-2 –∞–±–∑–∞—Ü–µ–≤ –¥–æ 2-4 —Å—Ç—Ä–∞–Ω–∏—Ü
2. ‚úÖ **–í—Å–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ research_results –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
3. ‚úÖ **–§–æ—Ä–º–∞—Ç —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å
4. ‚úÖ **–ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –ø–ª–∞–Ω** - –¥–æ–±–∞–≤–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–∞–±–ª–∏—Ü—ã

### High Priority (Should Implement):
5. ‚úÖ **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å** - —Ç—Ä–µ—Ç—å–µ –ª–∏—Ü–æ, –±—é—Ä–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–∏–π —è–∑—ã–∫
6. ‚úÖ **–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - —Ç–æ–ª—å–∫–æ —Ç–æ—á–Ω—ã–µ —Ü–∏—Ñ—Ä—ã
7. ‚úÖ **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - —Å –º–µ—Ç–æ–¥–∞–º–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è

---

## üîÑ WRITER V2 - STAGE 1 (Planning) UPDATES

### Current Planning Prompt (Lines 222-265):

```python
planning_prompt = f"""–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –≥—Ä–∞–Ω—Ç–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ - —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞—è–≤–∫–∏.

–ü–†–û–ï–ö–¢:
–ù–∞–∑–≤–∞–Ω–∏–µ: {user_answers.get('project_name', '–ü—Ä–æ–µ–∫—Ç')}
–û–ø–∏—Å–∞–Ω–∏–µ: {user_answers.get('description', '–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞')}

–†–ï–ó–£–õ–¨–¢–ê–¢–´ –ò–°–°–õ–ï–î–û–í–ê–ù–ò–Ø (27 –∑–∞–ø—Ä–æ—Å–æ–≤):
–ë–ª–æ–∫ 1 - –ü—Ä–æ–±–ª–µ–º–∞: {block1_summary[:500]}...
–ë–ª–æ–∫ 2 - –ì–µ–æ–≥—Ä–∞—Ñ–∏—è: {block2_summary[:500]}...
–ë–ª–æ–∫ 3 - –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏: {block3_summary[:500]}...

–í—Å–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: {metadata.get('sources_count', 0)}
–í—Å–µ–≥–æ —Ü–∏—Ç–∞—Ç: {metadata.get('quotes_count', 0)}

–¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö –ó–ê–Ø–í–ö–ï:
- –ú–∏–Ω–∏–º—É–º 15,000 —Å–∏–º–≤–æ–ª–æ–≤
- –ú–∏–Ω–∏–º—É–º 10 –ø—Ä—è–º—ã—Ö —Ü–∏—Ç–∞—Ç —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
- –ú–∏–Ω–∏–º—É–º 2 —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö 3 –±–ª–æ–∫–æ–≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ:
  * –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–†–æ—Å—Å—Ç–∞—Ç, –º–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞)
  * –°—Å—ã–ª–æ–∫ –Ω–∞ –Ω–∞—Ü–ø—Ä–æ–µ–∫—Ç—ã –∏ –≥–æ—Å–ø—Ä–æ–≥—Ä–∞–º–º—ã
  * 3 —É—Å–ø–µ—à–Ω—ã—Ö –∫–µ–π—Å–∞
  * –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–∞ —Å –†–§ –∏ –ª–∏–¥–µ—Ä–æ–º

–ó–ê–î–ê–ß–ê:
–°–æ–∑–¥–∞–π –ø–ª–∞–Ω —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≥—Ä–∞–Ω—Ç–æ–≤–æ–π –∑–∞—è–≤–∫–∏ (5-7 —Ä–∞–∑–¥–µ–ª–æ–≤) —Å —É–∫–∞–∑–∞–Ω–∏–µ–º:
1. –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞
2. –ö–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (—á—Ç–æ –≤–∫–ª—é—á–∏—Ç—å)
3. –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
4. –ì–¥–µ –≤—Å—Ç–∞–≤–∏—Ç—å —Ü–∏—Ç–∞—Ç—ã –∏ —Ç–∞–±–ª–∏—Ü—ã

–û—Ç–≤–µ—Ç –¥–∞–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:
{
  "sections": [
    {
      "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞",
      "key_elements": ["—ç–ª–µ–º–µ–Ω—Ç1", "—ç–ª–µ–º–µ–Ω—Ç2"],
      "research_blocks": ["block1", "block2"],
      "citations_count": 2,
      "tables_count": 1
    }
  ],
  "total_citations": 10,
  "total_tables": 2,
  "estimated_length": 15000
}
"""
```

### ‚úÖ UPDATED Planning Prompt:

```python
planning_prompt = f"""–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –∑–∞—è–≤–æ–∫ –Ω–∞ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–µ –≥—Ä–∞–Ω—Ç—ã –†–§. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ - —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞—è–≤–∫–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ –§–ü–ì.

–ö–û–ù–¢–ï–ö–°–¢ –ü–†–û–ï–ö–¢–ê:
–ù–∞–∑–≤–∞–Ω–∏–µ: {user_answers.get('project_name', '–ü—Ä–æ–µ–∫—Ç')}
–û–ø–∏—Å–∞–Ω–∏–µ: {user_answers.get('description', '–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞')}
–ü—Ä–æ–±–ª–µ–º–∞: {user_answers.get('problem', '')}
–†–µ—à–µ–Ω–∏–µ: {user_answers.get('solution', '')}
–ë—é–¥–∂–µ—Ç: {user_answers.get('budget', '1,000,000')} —Ä—É–±–ª–µ–π
–°—Ä–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: {user_answers.get('timeline', '12')} –º–µ—Å—è—Ü–µ–≤
–¶–µ–ª–µ–≤–∞—è –≥—Ä—É–ø–ø–∞: {user_answers.get('target_group', '')}
–ì–µ–æ–≥—Ä–∞—Ñ–∏—è: {user_answers.get('geography', '')}

–†–ï–ó–£–õ–¨–¢–ê–¢–´ –ò–°–°–õ–ï–î–û–í–ê–ù–ò–Ø (27 –∑–∞–ø—Ä–æ—Å–æ–≤):
–ë–ª–æ–∫ 1 - –ü—Ä–æ–±–ª–µ–º–∞: {block1_summary[:800]}...
–ë–ª–æ–∫ 2 - –ì–µ–æ–≥—Ä–∞—Ñ–∏—è: {block2_summary[:800]}...
–ë–ª–æ–∫ 3 - –¶–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏: {block3_summary[:800]}...

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- –í—Å–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤: {metadata.get('sources_count', 0)}
- –í—Å–µ–≥–æ —Ü–∏—Ç–∞—Ç –∏ –¥–∞–Ω–Ω—ã—Ö: {metadata.get('quotes_count', 0)}
- –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç—ã –æ –ø—Ä–æ–±–ª–µ–º–µ: {len(research_results.get('block1_problem', {}).get('key_facts', []))}
- –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞–π–¥–µ–Ω—ã: {len(research_results.get('block1_problem', {}).get('programs', []))}
- –£—Å–ø–µ—à–Ω—ã–µ –∫–µ–π—Å—ã –Ω–∞–π–¥–µ–Ω—ã: {len(research_results.get('block1_problem', {}).get('success_cases', []))}

–°–¢–†–£–ö–¢–£–†–ê –ó–ê–Ø–í–ö–ò –ù–ê –ü–†–ï–ó–ò–î–ï–ù–¢–°–ö–ò–ô –ì–†–ê–ù–¢:
–ó–∞—è–≤–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å–ª–µ–¥–æ–≤–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ –§–ü–ì (–§–æ–Ω–¥ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏—Ö –ì—Ä–∞–Ω—Ç–æ–≤) –∏ –≤–∫–ª—é—á–∞—Ç—å:

–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –†–ê–ó–î–ï–õ–´:

1. **–ö–†–ê–¢–ö–û–ï –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ï–ö–¢–ê** (0.5-1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
   - –°—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ –≤ 2-3 –∞–±–∑–∞—Ü–∞—Ö
   - –¶–µ–ª–µ–≤–∞—è –≥—Ä—É–ø–ø–∞
   - –ì–µ–æ–≥—Ä–∞—Ñ–∏—è
   - –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è

2. **–û–ë–û–°–ù–û–í–ê–ù–ò–ï –°–û–¶–ò–ê–õ–¨–ù–û–ô –ó–ù–ê–ß–ò–ú–û–°–¢–ò** / **–û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´** (2-4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã) ‚ö†Ô∏è –°–ê–ú–´–ô –í–ê–ñ–ù–´–ô –†–ê–ó–î–ï–õ
   –î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
   - –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å —Ç–æ—á–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏ (–†–æ—Å—Å—Ç–∞—Ç, –º–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞, –í–û–ó, –í–¶–ò–û–ú)
   - –ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "(—Å—Å—ã–ª–∫–∞: https://...)"
   - –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö/–Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å —Ü–µ–ª–µ–≤—ã–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏
   - –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞ –º–µ—Å—Ç–Ω–æ—Å—Ç–∏, –¥–µ–º–æ–≥—Ä–∞—Ñ–∏—è)
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ü–µ–ª–µ–≤–æ–π –≥—Ä—É–ø–ø–µ
   - –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –æ–ø—Ä–æ—Å—ã
   - –†–µ–∞–ª—å–Ω—ã–µ –∫–µ–π—Å—ã –∏ –ø—Ä–∏–º–µ—Ä—ã
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–°–ï key_facts –∏–∑ block1_problem
   - –í–∫–ª—é—á–∏—Ç—å dynamics_table —Å –¥–∏–Ω–∞–º–∏–∫–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
   - –í–∫–ª—é—á–∏—Ç—å comparison_table —Å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º —Ä–µ–≥–∏–æ–Ω–∞

3. **–¶–ï–õ–¨ –ü–†–û–ï–ö–¢–ê** (1 –∞–±–∑–∞—Ü)
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è, –∏–∑–º–µ—Ä–∏–º–∞—è —Ü–µ–ª—å (SMART)
   - –° —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–æ—á–Ω—ã—Ö —Ü–∏—Ñ—Ä –∏–∑ user_answers

4. **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´**
   - **–¶–µ–ª–µ–≤—ã–µ –≥—Ä—É–ø–ø—ã**: —Å–ø–∏—Å–æ–∫ –∏–∑ user_answers
   - **–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**: bullet list —Å –¢–û–ß–ù–´–ú–ò —Ü–∏—Ñ—Ä–∞–º–∏ (–∏–∑ user_answers)
   - **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**: —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Å–ø–æ—Å–æ–±–æ–≤ –∏–∑–º–µ—Ä–µ–Ω–∏—è (–æ–ø—Ä–æ—Å—ã, –æ—Ç–∑—ã–≤—ã, —Ñ–∏–∫—Å–∞—Ü–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º)

5. **–ó–ê–î–ê–ß–ò –ü–†–û–ï–ö–¢–ê** (3-5 –ø—É–Ω–∫—Ç–æ–≤)
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ, –¥–µ–π—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
   - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –ø–ª–∞–Ω–∞

6. **–ü–ê–†–¢–ù–ï–†–´ –ü–†–û–ï–ö–¢–ê**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å programs –∏–∑ block1_problem –∫–∞–∫ –æ—Å–Ω–æ–≤—É –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
   - –¢–∏–ø—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è, –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—è, –ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è, –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è

7. **–ò–ù–§–û–†–ú–ê–¶–ò–û–ù–ù–û–ï –°–û–ü–†–û–í–û–ñ–î–ï–ù–ò–ï**
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏ (—Å–æ—Ü—Å–µ—Ç–∏, –°–ú–ò, —Å–∞–π—Ç—ã –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–π

8. **–î–ê–õ–¨–ù–ï–ô–®–ï–ï –†–ê–ó–í–ò–¢–ò–ï –ü–†–û–ï–ö–¢–ê**
   - –ü–ª–∞–Ω—ã –ø–æ—Å–ª–µ –≥—Ä–∞–Ω—Ç–∞

9. **–ö–ê–õ–ï–ù–î–ê–†–ù–´–ô –ü–õ–ê–ù** ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê
   - 4-8 —Å—Ç—Ä–æ–∫ (–ø–æ —á–∏—Å–ª—É –∑–∞–¥–∞—á)
   - –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞: –ó–∞–¥–∞—á–∞ | –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ | –î–∞—Ç—ã | –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö –û–ë–™–ï–ú–£ –ò –ö–ê–ß–ï–°–¢–í–£:
- –û–±—â–∏–π –æ–±—ä–µ–º: 20-30 —Å—Ç—Ä–∞–Ω–∏—Ü (—Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤)
- –†–∞–∑–¥–µ–ª "–ü—Ä–æ–±–ª–µ–º–∞": 2-4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Å–∞–º—ã–π –±–æ–ª—å—à–æ–π)
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –º–∏–Ω–∏–º—É–º 5-10 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü—Ä–æ–±–ª–µ–º–∞": –º–∏–Ω–∏–º—É–º 10-15 —á–∏—Å–ª–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä—è–º—ã–µ —Ü–∏—Ç–∞—Ç—ã: –º–∏–Ω–∏–º—É–º 10
- –¢–∞–±–ª–∏—Ü—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è: –º–∏–Ω–∏–º—É–º 2
- –°—Ç–∏–ª—å: –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π, –±—é—Ä–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–∏–π, —Ç—Ä–µ—Ç—å–µ –ª–∏—Ü–æ

–ó–ê–î–ê–ß–ê:
–°–æ–∑–¥–∞–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞—è–≤–∫–∏, –≤–∫–ª—é—á–∞—è:
1. –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (—á—Ç–æ –ø–∏—Å–∞—Ç—å)
2. –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (–î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –Ω–∞ 2-4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
3. –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ (—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞)
4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (–∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ + –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å –º–µ—Ç–æ–¥–∞–º–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è)
5. –ó–∞–¥–∞—á–∏ (3-5 –ø—É–Ω–∫—Ç–æ–≤)
6. –ü–∞—Ä—Ç–Ω–µ—Ä—ã (–∏–∑ programs)
7. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ
8. –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ
9. –ö–ê–õ–ï–ù–î–ê–†–ù–´–ô –ü–õ–ê–ù (—Ç–∞–±–ª–∏—Ü–∞ 4-8 —Å—Ç—Ä–æ–∫)

–û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –∫ —Ä–∞–∑–¥–µ–ª—É "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã" - —Ä–∞—Å–ø–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω–æ:
- –ö–∞–∫–∏–µ key_facts –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (–í–°–ï –∏–∑ block1_problem)
- –ö–∞–∫–∏–µ programs —É–ø–æ–º—è–Ω—É—Ç—å —Å —Ü–µ–ª–µ–≤—ã–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏
- –ö–∞–∫–∏–µ success_cases –≤–∫–ª—é—á–∏—Ç—å
- –ì–¥–µ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å dynamics_table
- –ì–¥–µ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å comparison_table
- –ö–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å 2-4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–µ–∫—Å—Ç–∞

–û—Ç–≤–µ—Ç –¥–∞–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:
{{
  "section_1_brief": {{
    "content_plan": "–ß—Ç–æ –≤–∫–ª—é—á–∏—Ç—å –≤ –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
    "length_chars": 2000
  }},
  "section_2_problem": {{
    "subsections": [
      {{
        "title": "–§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç",
        "content_plan": "–ù–∞—Ü–ø—Ä–æ–µ–∫—Ç—ã, —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, —Ü–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏",
        "key_facts_indices": [0, 1, 2],
        "programs_indices": [0, 1],
        "citations_count": 3
      }},
      {{
        "title": "–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞",
        "content_plan": "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–≥–∏–æ–Ω–∞, comparison_table",
        "key_facts_indices": [3, 4, 5],
        "tables": ["comparison_table"],
        "citations_count": 2
      }},
      {{
        "title": "–¶–µ–ª–µ–≤–∞—è –≥—Ä—É–ø–ø–∞",
        "content_plan": "–î–µ–º–æ–≥—Ä–∞—Ñ–∏—è, –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏",
        "key_facts_indices": [6, 7, 8],
        "citations_count": 2
      }},
      {{
        "title": "–î–∏–Ω–∞–º–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã",
        "content_plan": "–î–∏–Ω–∞–º–∏–∫–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π, —Ç—Ä–µ–Ω–¥—ã",
        "key_facts_indices": [9, 10, 11],
        "tables": ["dynamics_table"],
        "citations_count": 3
      }},
      {{
        "title": "–£—Å–ø–µ—à–Ω—ã–π –æ–ø—ã—Ç",
        "content_plan": "Success cases –∫–∞–∫ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞",
        "success_cases_indices": [0, 1, 2],
        "citations_count": 0
      }}
    ],
    "total_length_chars": 8000,
    "total_citations": 10,
    "total_tables": 2
  }},
  "section_3_goal": {{
    "goal_text": "–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ —Ü–µ–ª–∏ —Å —Ç–æ—á–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏"
  }},
  "section_4_results": {{
    "quantitative": [
      "–†–µ–∑—É–ª—å—Ç–∞—Ç 1 —Å —Ç–æ—á–Ω–æ–π —Ü–∏—Ñ—Ä–æ–π",
      "–†–µ–∑—É–ª—å—Ç–∞—Ç 2 —Å —Ç–æ—á–Ω–æ–π —Ü–∏—Ñ—Ä–æ–π"
    ],
    "qualitative": [
      {{
        "result": "–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç",
        "measurement": "–°–ø–æ—Å–æ–± –∏–∑–º–µ—Ä–µ–Ω–∏—è (–æ–ø—Ä–æ—Å, –æ—Ç–∑—ã–≤—ã, —Ñ–∏–∫—Å–∞—Ü–∏—è)"
      }}
    ]
  }},
  "section_5_tasks": [
    "–ó–∞–¥–∞—á–∞ 1",
    "–ó–∞–¥–∞—á–∞ 2",
    "–ó–∞–¥–∞—á–∞ 3"
  ],
  "section_6_partners": [
    {{
      "name": "–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –∏–∑ programs",
      "support_types": ["–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è", "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—è"]
    }}
  ],
  "section_7_info_support": "–ü–ª–∞–Ω –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è",
  "section_8_future": "–î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ",
  "section_9_calendar": {{
    "rows": [
      {{
        "task_number": 1,
        "task_from_section_5": "–ó–∞–¥–∞—á–∞ 1",
        "event_description": "–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è",
        "start_date": "01.03.2025",
        "end_date": "31.03.2025",
        "expected_result": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —Ü–∏—Ñ—Ä–∞–º–∏"
      }}
    ]
  }},
  "total_estimated_chars": 25000,
  "style_notes": "–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π, —Ç—Ä–µ—Ç—å–µ –ª–∏—Ü–æ, –±—é—Ä–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–∏–π"
}}
"""
```

---

## ‚úçÔ∏è WRITER V2 - STAGE 2 (Writing) UPDATES

### Current Writing Prompt (Lines 356-450):

```python
writing_prompt = f"""–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≥—Ä–∞–Ω—Ç-—Ä–∞–π—Ç–µ—Ä. –ù–∞–ø–∏—à–∏ –ø–æ–ª–Ω—É—é –∑–∞—è–≤–∫—É –Ω–∞ –≥—Ä–∞–Ω—Ç.

–ü–†–û–ï–ö–¢:
–ù–∞–∑–≤–∞–Ω–∏–µ: {user_answers.get('project_name', '–ü—Ä–æ–µ–∫—Ç')}
–û–ø–∏—Å–∞–Ω–∏–µ: {user_answers.get('description', '')}
–ü—Ä–æ–±–ª–µ–º–∞: {user_answers.get('problem', '')}
–†–µ—à–µ–Ω–∏–µ: {user_answers.get('solution', '')}
–ë—é–¥–∂–µ—Ç: {user_answers.get('budget', '1,000,000')} —Ä—É–±–ª–µ–π
–°—Ä–æ–∫: {user_answers.get('timeline', '12')} –º–µ—Å—è—Ü–µ–≤

–ü–õ–ê–ù –°–¢–†–£–ö–¢–£–†–´:
{json.dumps(plan, ensure_ascii=False, indent=2)}

–¶–ò–¢–ê–¢–´ –î–õ–Ø –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø (–º–∏–Ω–∏–º—É–º 10):
{citations_text}

–¢–ê–ë–õ–ò–¶–´ –î–õ–Ø –í–ö–õ–Æ–ß–ï–ù–ò–Ø (–º–∏–Ω–∏–º—É–º 2):
{tables_text}

–ë–õ–û–ö 1 - –ü–†–û–ë–õ–ï–ú–ê:
{block1.get('summary', '')[:1000]}

–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç—ã:
{json.dumps(block1.get('key_facts', [])[:5], ensure_ascii=False, indent=2)}

...
```

### ‚úÖ UPDATED Writing Prompt:

```python
writing_prompt = f"""–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≥—Ä–∞–Ω—Ç-—Ä–∞–π—Ç–µ—Ä —Å 15-–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ –Ω–∞ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–µ –≥—Ä–∞–Ω—Ç—ã –†–§.

–¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –Ω–∞–ø–∏—Å–∞—Ç—å –ø–æ–ª–Ω—É—é –∑–∞—è–≤–∫—É –Ω–∞ –≥—Ä–∞–Ω—Ç, —Å—Ç—Ä–æ–≥–æ —Å–ª–µ–¥—É—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ –§–ü–ì (–§–æ–Ω–¥ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏—Ö –ì—Ä–∞–Ω—Ç–æ–≤).

–°–¢–ò–õ–¨ –ù–ê–ü–ò–°–ê–ù–ò–Ø (–ö–†–ò–¢–ò–ß–ù–û –í–ê–ñ–ù–û):
- ‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π, –¥–µ–ª–æ–≤–æ–π, –±—é—Ä–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å
- ‚úÖ –¢—Ä–µ—Ç—å–µ –ª–∏—Ü–æ –í–°–ï–ì–î–ê ("–ø—Ä–æ–µ–∫—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞...", "–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è...", "–±—É–¥–µ—Ç –ø—Ä–æ–≤–µ–¥–µ–Ω–æ...")
- ‚úÖ –ù–ï–¢ –ø–µ—Ä–≤–æ–≥–æ –ª–∏—Ü–∞ ("–º—ã", "–Ω–∞—à", "–Ω–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞")
- ‚úÖ –î–ª–∏–Ω–Ω—ã–µ, —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –≤–≤–æ–¥–Ω—ã–º–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- ‚úÖ –ë–µ–∑—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–Ω (—Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç—ã, —Ü–∏—Ñ—Ä—ã, —Å—Å—ã–ª–∫–∏)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä (–í–û–ó, –í–¶–ò–û–ú, –ú–∏–Ω–ó–¥—Ä–∞–≤, –†–æ—Å—Å—Ç–∞—Ç, –ï–ì–†–Æ–õ –∏ —Ç.–¥.)
- ‚úÖ –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π/–Ω–∞—É—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥

–§–û–†–ú–ê–¢ –¶–ò–¢–ò–†–û–í–ê–ù–ò–Ø (–°–¢–†–û–ì–û –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û):
–í—Å–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏ —Ñ–∞–∫—Ç—ã –æ—Ñ–æ—Ä–º–ª—è–π —Ç–∞–∫:
"–ü–æ –¥–∞–Ω–Ω—ã–º [–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è] [—Ñ–∞–∫—Ç —Å —Ç–æ—á–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏]. [–í—ã–≤–æ–¥ –∏–ª–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è] (—Å—Å—ã–ª–∫–∞: https://–ø–æ–ª–Ω–∞—è-—Å—Å—ã–ª–∫–∞-–Ω–∞-–∏—Å—Ç–æ—á–Ω–∏–∫)."

–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ü–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- "–ü–æ –¥–∞–Ω–Ω—ã–º –≤—Å–µ–º–∏—Ä–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª–µ–Ω –≤–æ–ø—Ä–æ—Å —Å–Ω–∏–∂–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å–ø–∏—Ç–∞–Ω–∏—è –º–æ–ª–æ–¥–µ–∂–∏, –†–æ—Å—Å–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ –¥–∞–Ω–Ω–æ–º—É –ø–æ–∫–∞–∑–∞—Ç–µ–ª—é –Ω–∞ 98 –º–µ—Å—Ç–µ (—Å—Å—ã–ª–∫–∞: https://tass.ru/obschestvo/7176407)."
- "–°–æ–≥–ª–∞—Å–Ω–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é —Ñ–æ–Ω–¥–∞ "–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–Ω–µ–Ω–∏–µ" 11% –æ–ø—Ä–æ—à–µ–Ω–Ω—ã—Ö —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—é—Ç —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä—É, –∫–∞–∫ "—Ç—è–∂—ë–ª—É—é –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å"."
- "–ü–æ –ø–ª–∞–Ω—É —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ ¬´–°–ø–æ—Ä—Ç ‚Äì –Ω–æ—Ä–º–∞ –∂–∏–∑–Ω–∏¬ª (–≤ —Ä–∞–º–∫–∞—Ö –Ω–∞—Ü–ø—Ä–æ–µ–∫—Ç–∞ ¬´–î–µ–º–æ–≥—Ä–∞—Ñ–∏—è¬ª) –¥–æ–ª—è –¥–µ—Ç–µ–π –∏ –º–æ–ª–æ–¥–µ–∂–∏ (–≤–æ–∑—Ä–∞—Å—Ç 3‚Äî29 –ª–µ—Ç), —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–Ω–∏–º–∞—é—â–∏—Ö—Å—è —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–æ–π –∏ —Å–ø–æ—Ä—Ç–æ–º, –¥–æ–ª–∂–Ω–∞ —Å–æ—Å—Ç–∞–≤–∏—Ç—å 86% –∫ 2024 –≥–æ–¥—É."

–î–ê–ù–ù–´–ï –ü–†–û–ï–ö–¢–ê:
–ù–∞–∑–≤–∞–Ω–∏–µ: {user_answers.get('project_name', '–ü—Ä–æ–µ–∫—Ç')}
–û–ø–∏—Å–∞–Ω–∏–µ: {user_answers.get('description', '')}
–ü—Ä–æ–±–ª–µ–º–∞: {user_answers.get('problem', '')}
–†–µ—à–µ–Ω–∏–µ: {user_answers.get('solution', '')}
–¶–µ–ª–µ–≤–∞—è –≥—Ä—É–ø–ø–∞: {user_answers.get('target_group', '')}
–ì–µ–æ–≥—Ä–∞—Ñ–∏—è: {user_answers.get('geography', '')}
–ë—é–¥–∂–µ—Ç: {user_answers.get('budget', '1,000,000')} —Ä—É–±–ª–µ–π
–°—Ä–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: {user_answers.get('timeline', '12')} –º–µ—Å—è—Ü–µ–≤

–ü–õ–ê–ù –°–¢–†–£–ö–¢–£–†–´ (–∏–∑ Stage 1):
{json.dumps(plan, ensure_ascii=False, indent=2)}

–¶–ò–¢–ê–¢–´ –ò –ò–°–¢–û–ß–ù–ò–ö–ò (–º–∏–Ω–∏–º—É–º 10 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å):
{citations_text}

–¢–ê–ë–õ–ò–¶–´ (–º–∏–Ω–∏–º—É–º 2 –≤–∫–ª—é—á–∏—Ç—å):
{tables_text}

–ë–õ–û–ö 1 - –ü–†–û–ë–õ–ï–ú–ê (–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–°–ï –¥–∞–Ω–Ω—ã–µ):
–†–µ–∑—é–º–µ: {block1.get('summary', '')}

–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç—ã (–ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ –í–°–ï):
{json.dumps(block1.get('key_facts', []), ensure_ascii=False, indent=2)}

–î–∏–Ω–∞–º–∏–∫–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π:
{json.dumps(block1.get('dynamics_table', {}), ensure_ascii=False, indent=2)}

–§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –Ω–∞—Ü–ø—Ä–æ–µ–∫—Ç—ã:
{json.dumps(block1.get('programs', []), ensure_ascii=False, indent=2)}

–£—Å–ø–µ—à–Ω—ã–µ –∫–µ–π—Å—ã:
{json.dumps(block1.get('success_cases', []), ensure_ascii=False, indent=2)}

–ë–õ–û–ö 2 - –ì–ï–û–ì–†–ê–§–ò–Ø:
–†–µ–∑—é–º–µ: {block2.get('summary', '')}

–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç—ã –æ —Ä–µ–≥–∏–æ–Ω–µ:
{json.dumps(block2.get('key_facts', []), ensure_ascii=False, indent=2)}

–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (—Ä–µ–≥–∏–æ–Ω vs –†–§ vs –ª–∏–¥–µ—Ä):
{json.dumps(block2.get('comparison_table', {}), ensure_ascii=False, indent=2)}

–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è:
{json.dumps(block2.get('target_audience', {}), ensure_ascii=False, indent=2)}

–ë–õ–û–ö 3 - –¶–ï–õ–ò –ò –ó–ê–î–ê–ß–ò:
–†–µ–∑—é–º–µ: {block3.get('summary', '')}

–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:
{json.dumps(block3.get('key_tasks', []), ensure_ascii=False, indent=2)}

–í–∞—Ä–∏–∞–Ω—Ç—ã —Ü–µ–ª–µ–π (—Å SMART-–ø—Ä–æ–≤–µ—Ä–∫–æ–π):
{json.dumps(block3.get('main_goal_variants', []), ensure_ascii=False, indent=2)}

–ó–ê–î–ê–ù–ò–ï:
–ù–∞–ø–∏—à–∏ –ø–æ–ª–Ω—É—é –∑–∞—è–≤–∫—É –Ω–∞ –≥—Ä–∞–Ω—Ç, –≤–∫–ª—é—á–∞—é—â—É—é –í–°–ï —Ä–∞–∑–¥–µ–ª—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É:

1. –ö–†–ê–¢–ö–û–ï –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ï–ö–¢–ê (0.5-1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞, ~2000 —Å–∏–º–≤–æ–ª–æ–≤)
   - –°—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ (2-3 –∞–±–∑–∞—Ü–∞, —Ç—Ä–µ—Ç—å–µ –ª–∏—Ü–æ)
   - –¶–µ–ª–µ–≤–∞—è –≥—Ä—É–ø–ø–∞ –∏ –≥–µ–æ–≥—Ä–∞—Ñ–∏—è
   - –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è

2. –û–ë–û–°–ù–û–í–ê–ù–ò–ï –°–û–¶–ò–ê–õ–¨–ù–û–ô –ó–ù–ê–ß–ò–ú–û–°–¢–ò / –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ (2-4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã, ~8000 —Å–∏–º–≤–æ–ª–æ–≤) ‚ö†Ô∏è –°–ê–ú–´–ô –í–ê–ñ–ù–´–ô –†–ê–ó–î–ï–õ

   –°–¢–†–£–ö–¢–£–†–ê –†–ê–ó–î–ï–õ–ê –ü–†–û–ë–õ–ï–ú–´:

   –ü–æ–¥—Ä–∞–∑–¥–µ–ª 1: –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
   - –ò—Å–ø–æ–ª—å–∑—É–π –í–°–ï relevant key_facts –∏–∑ block1
   - –í–∫–ª—é—á–∏ –í–°–ï programs —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º —Ü–µ–ª–µ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
   - –§–æ—Ä–º–∞—Ç: "–ü–æ –¥–∞–Ω–Ω—ã–º [–ø—Ä–æ–≥—Ä–∞–º–º–∞] –∫ [–≥–æ–¥] –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ—Å—Ç–∏—á—å [–ø–æ–∫–∞–∑–∞—Ç–µ–ª—å]"
   - –ú–∏–Ω–∏–º—É–º 3 —Ü–∏—Ç–∞—Ç—ã —Å –ø—Ä—è–º—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏

   –ü–æ–¥—Ä–∞–∑–¥–µ–ª 2: –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞ (0.5-1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
   - –ò—Å–ø–æ–ª—å–∑—É–π key_facts –∏–∑ block2
   - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤–∫–ª—é—á–∏ comparison_table
   - –§–æ—Ä–º–∞—Ç —Ç–∞–±–ª–∏—Ü—ã: "–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π:\n| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –†–µ–≥–∏–æ–Ω | –†–§ | –õ–∏–¥–µ—Ä |\n..."
   - –ú–∏–Ω–∏–º—É–º 2 —Ü–∏—Ç–∞—Ç—ã –æ —Ä–µ–≥–∏–æ–Ω–µ

   –ü–æ–¥—Ä–∞–∑–¥–µ–ª 3: –¶–µ–ª–µ–≤–∞—è –≥—Ä—É–ø–ø–∞ (0.5 —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
   - –î–µ–º–æ–≥—Ä–∞—Ñ–∏—è –∏–∑ target_audience
   - –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ü–µ–ª–µ–≤–æ–π –≥—Ä—É–ø–ø—ã
   - –ú–∏–Ω–∏–º—É–º 2 —Ü–∏—Ç–∞—Ç—ã

   –ü–æ–¥—Ä–∞–∑–¥–µ–ª 4: –î–∏–Ω–∞–º–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã (0.5 —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
   - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤–∫–ª—é—á–∏ dynamics_table
   - –§–æ—Ä–º–∞—Ç —Ç–∞–±–ª–∏—Ü—ã: "–î–∏–Ω–∞–º–∏–∫–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è:\n| –ì–æ–¥ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |\n..."
   - –¢—Ä–µ–Ω–¥—ã –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã
   - –ú–∏–Ω–∏–º—É–º 2-3 —Ü–∏—Ç–∞—Ç—ã

   –ü–æ–¥—Ä–∞–∑–¥–µ–ª 5: –£—Å–ø–µ—à–Ω—ã–π –æ–ø—ã—Ç —Ä–µ—à–µ–Ω–∏—è (0.5 —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
   - –í–∫–ª—é—á–∏ –í–°–ï success_cases
   - –§–æ—Ä–º–∞—Ç: –ù–∞–∑–≤–∞–Ω–∏–µ –∫–µ–π—Å–∞, –º–µ—Å—Ç–æ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
   - –ë–µ–∑ –ø—Ä—è–º—ã—Ö —Ü–∏—Ç–∞—Ç (—ç—Ç–æ –ø—Ä–∏–º–µ—Ä—ã)

   ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –†–∞–∑–¥–µ–ª "–ü—Ä–æ–±–ª–µ–º–∞" –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 8000+ —Å–∏–º–≤–æ–ª–æ–≤ —Å 10+ —Ü–∏—Ç–∞—Ç–∞–º–∏ –∏ 2 —Ç–∞–±–ª–∏—Ü–∞–º–∏

3. –¶–ï–õ–¨ –ü–†–û–ï–ö–¢–ê (1 –∞–±–∑–∞—Ü, ~500 —Å–∏–º–≤–æ–ª–æ–≤)
   - –ò—Å–ø–æ–ª—å–∑—É–π –≤–∞—Ä–∏–∞–Ω—Ç —Ü–µ–ª–∏ –∏–∑ block3.main_goal_variants —Å –≤—ã—Å–æ–∫–∏–º SMART-score
   - –î–æ–±–∞–≤—å —Ç–æ—á–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –∏–∑ user_answers (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π, –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π)
   - –§–æ—Ä–º–∞—Ç: "[–î–µ–π—Å—Ç–≤–∏–µ] —á–µ—Ä–µ–∑ [–º–µ—Ç–æ–¥—ã] –≤ [–≥–µ–æ–≥—Ä–∞—Ñ–∏—è], –æ—Ö–≤–∞—Ç–∏–≤ [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ] [—Ü–µ–ª–µ–≤–∞—è –≥—Ä—É–ø–ø–∞] –∑–∞ [—Å—Ä–æ–∫]"

4. –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´ (1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞, ~2500 —Å–∏–º–≤–æ–ª–æ–≤)

   4.1 –¶–µ–ª–µ–≤—ã–µ –≥—Ä—É–ø–ø—ã:
   Bullet list –∏–∑ user_answers.target_group

   4.2 –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
   - –¢–æ–ª—å–∫–æ –¢–û–ß–ù–´–ï —Ü–∏—Ñ—Ä—ã –∏–∑ user_answers
   - –§–æ—Ä–º–∞—Ç: "‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ [—á—Ç–æ]: [—á–∏—Å–ª–æ]"
   - –ú–∏–Ω–∏–º—É–º 5 –ø—É–Ω–∫—Ç–æ–≤
   - –ü—Ä–∏–º–µ—Ä—ã:
     * –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π: [—Ç–æ—á–Ω–∞—è —Ü–∏—Ñ—Ä–∞]
     * –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π: [—Ç–æ—á–Ω–∞—è —Ü–∏—Ñ—Ä–∞]
     * –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–π –≤ –°–ú–ò: [—Ç–æ—á–Ω–∞—è —Ü–∏—Ñ—Ä–∞]

   4.3 –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å–ø–æ—Å–æ–±—ã –∏—Ö –∏–∑–º–µ—Ä–µ–Ω–∏—è:
   - –ù–ï –ø—Ä–æ—Å—Ç–æ "—É–ª—É—á—à–∏—Ç—Å—è" –∏–ª–∏ "–ø–æ–≤—ã—Å–∏—Ç—Å—è"
   - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —É–∫–∞–∑–∞—Ç—å –º–µ—Ç–æ–¥ –∏–∑–º–µ—Ä–µ–Ω–∏—è
   - –§–æ—Ä–º–∞—Ç: "[–†–µ–∑—É–ª—å—Ç–∞—Ç]. –°–ø–æ—Å–æ–± –∏–∑–º–µ—Ä–µ–Ω–∏—è: [–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Ç–æ–¥]"
   - –ü—Ä–∏–º–µ—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –∏–∑–º–µ—Ä–µ–Ω–∏—è:
     * "–í—Ö–æ–¥–Ω–æ–π –∏ –≤—ã—Ö–æ–¥–Ω–æ–π –æ–ø—Ä–æ—Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞"
     * "–û—Ç–∑—ã–≤—ã —Ä–æ–¥–∏—Ç–µ–ª–µ–π –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö –∏ –Ω–∞ —Å–∞–π—Ç–µ"
     * "–§–∏–∫—Å–∏—Ä—É–µ—Ç —Ç—Ä–µ–Ω–µ—Ä—Å–∫–∏–π —Å–æ—Å—Ç–∞–≤, –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞"
     * "–û–Ω–ª–∞–π–Ω-–æ–ø—Ä–æ—Å –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ –¥–æ –∏ –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞"
     * "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—É–±–ª–∏–∫–∞—Ü–∏–π –≤ –°–ú–ò"
   - –ú–∏–Ω–∏–º—É–º 3 –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å –º–µ—Ç–æ–¥–∞–º–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è

5. –ó–ê–î–ê–ß–ò –ü–†–û–ï–ö–¢–ê (0.5 —Å—Ç—Ä–∞–Ω–∏—Ü—ã, ~1000 —Å–∏–º–≤–æ–ª–æ–≤)
   - –ò—Å–ø–æ–ª—å–∑—É–π key_tasks –∏–∑ block3
   - 3-5 –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö, –¥–µ–π—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
   - –§–æ—Ä–º–∞—Ç: bullet list, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –≥–ª–∞–≥–æ–ª–∞ –≤ –∏–Ω—Ñ–∏–Ω–∏—Ç–∏–≤–µ
   - –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–∞–∑–¥–µ–ª—É –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –ø–ª–∞–Ω–∞

6. –ü–ê–†–¢–ù–ï–†–´ –ü–†–û–ï–ö–¢–ê (0.5 —Å—Ç—Ä–∞–Ω–∏—Ü—ã, ~1000 —Å–∏–º–≤–æ–ª–æ–≤)
   - –ò–∑–≤–ª–µ–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–∑ block1.programs –∫–∞–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ —É–∫–∞–∂–∏:
     * –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ)
     * –¢–∏–ø—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è, –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–∞—è, –ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è, –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è
   - –§–æ—Ä–º–∞—Ç: "[–ù–∞–∑–≤–∞–Ω–∏–µ]. –¢–∏–ø –ø–æ–¥–¥–µ—Ä–∂–∫–∏: [—Ç–∏–ø—ã]."
   - –£–ø–æ–º—è–Ω–∏, —á—Ç–æ –ø–∏—Å—å–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏–ª–∞–≥–∞—é—Ç—Å—è (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

7. –ò–ù–§–û–†–ú–ê–¶–ò–û–ù–ù–û–ï –°–û–ü–†–û–í–û–ñ–î–ï–ù–ò–ï (0.3 —Å—Ç—Ä–∞–Ω–∏—Ü—ã, ~800 —Å–∏–º–≤–æ–ª–æ–≤)
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏: —Å–æ—Ü—Å–µ—Ç–∏ (–í–ö–æ–Ω—Ç–∞–∫—Ç–µ, Telegram), —Å–∞–π—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, —Å–∞–π—Ç—ã –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–π: —Ç–æ—á–Ω—ã–µ —Ü–∏—Ñ—Ä—ã
   - –§–æ—Ä–º–∞—Ç –≤–∏–¥–µ–æ-–∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
   - –û—Ö–≤–∞—Ç –∞—É–¥–∏—Ç–æ—Ä–∏–∏ (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–µ–Ω)

8. –î–ê–õ–¨–ù–ï–ô–®–ï–ï –†–ê–ó–í–ò–¢–ò–ï –ü–†–û–ï–ö–¢–ê (0.3 —Å—Ç—Ä–∞–Ω–∏—Ü—ã, ~800 —Å–∏–º–≤–æ–ª–æ–≤)
   - –ü–ª–∞–Ω—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è (–¥—Ä—É–≥–∏–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏, —Ü–µ–ª–µ–≤—ã–µ –≥—Ä—É–ø–ø—ã)
   - –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ –≥—Ä–∞–Ω—Ç–∞
   - –°–∞–º–æ–æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

9. –ö–ê–õ–ï–ù–î–ê–†–ù–´–ô –ü–õ–ê–ù (—Ç–∞–±–ª–∏—Ü–∞, ~2000 —Å–∏–º–≤–æ–ª–æ–≤)
   - –§–æ—Ä–º–∞—Ç Markdown —Ç–∞–±–ª–∏—Ü—ã:

   | ‚Ññ | –†–µ—à–∞–µ–º–∞—è –∑–∞–¥–∞—á–∞ | –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ | –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è | –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã |
   |---|----------------|-------------|-------------|----------------|---------------------|
   | 1 | [–ó–∞–¥–∞—á–∞ –∏–∑ –ø.5] | [–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è —Å –º–µ—Å—Ç–æ–º –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è] | [–¥–¥.–º–º.–≥–≥–≥–≥] | [–¥–¥.–º–º.–≥–≥–≥–≥] | [–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å —Ç–æ—á–Ω—ã–º–∏ —Ü–∏—Ñ—Ä–∞–º–∏] |

   - 4-8 —Å—Ç—Ä–æ–∫ (–ø–æ —á–∏—Å–ª—É –∑–∞–¥–∞—á –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ 5)
   - –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ = –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å timeline –∏–∑ user_answers –ø–æ –∑–∞–¥–∞—á–∞–º
   - –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

–¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö –§–ò–ù–ê–õ–¨–ù–û–ú–£ –¢–ï–ö–°–¢–£:
‚úÖ –û–±—â–∏–π –æ–±—ä–µ–º: 25,000+ —Å–∏–º–≤–æ–ª–æ–≤ (20-30 —Å—Ç—Ä–∞–Ω–∏—Ü)
‚úÖ –†–∞–∑–¥–µ–ª "–ü—Ä–æ–±–ª–µ–º–∞": 8,000+ —Å–∏–º–≤–æ–ª–æ–≤ (2-4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å, —Ç—Ä–µ—Ç—å–µ –ª–∏—Ü–æ, –¥–ª–∏–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
‚úÖ –ú–∏–Ω–∏–º—É–º 10 –ø—Ä—è–º—ã—Ö —Ü–∏—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–ü–æ –¥–∞–Ω–Ω—ã–º... (—Å—Å—ã–ª–∫–∞: https://...)"
‚úÖ 2 —Ç–∞–±–ª–∏—Ü—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (comparison_table –∏ dynamics_table)
‚úÖ –í—Å–µ —Ü–∏—Ñ—Ä—ã —Ç–æ—á–Ω—ã–µ (–∏–∑ user_answers)
‚úÖ –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –º–µ—Ç–æ–¥–∞–º–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è
‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –ø–ª–∞–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Ç–∞–±–ª–∏—Ü—ã
‚úÖ –ê–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã (–í–û–ó, –í–¶–ò–û–ú, –ú–∏–Ω–ó–¥—Ä–∞–≤, –†–æ—Å–°—Ç–∞—Ç –∏ —Ç.–¥.)

–í–µ—Ä–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:
{{
  "section_1_brief": "–¢–µ–∫—Å—Ç —Ä–∞–∑–¥–µ–ª–∞ 1...",
  "section_2_problem": "–¢–µ–∫—Å—Ç —Ä–∞–∑–¥–µ–ª–∞ 2 (2-4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã)...",
  "section_3_goal": "–¢–µ–∫—Å—Ç —Ä–∞–∑–¥–µ–ª–∞ 3...",
  "section_4_results": "–¢–µ–∫—Å—Ç —Ä–∞–∑–¥–µ–ª–∞ 4...",
  "section_5_tasks": "–¢–µ–∫—Å—Ç —Ä–∞–∑–¥–µ–ª–∞ 5...",
  "section_6_partners": "–¢–µ–∫—Å—Ç —Ä–∞–∑–¥–µ–ª–∞ 6...",
  "section_7_info": "–¢–µ–∫—Å—Ç —Ä–∞–∑–¥–µ–ª–∞ 7...",
  "section_8_future": "–¢–µ–∫—Å—Ç —Ä–∞–∑–¥–µ–ª–∞ 8...",
  "section_9_calendar": "–¢–µ–∫—Å—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ (—Ç–∞–±–ª–∏—Ü–∞ Markdown)...",
  "metadata": {{
    "total_chars": 25000,
    "citations_used": 12,
    "tables_included": 2,
    "style_check": "official_third_person"
  }}
}}
"""
```

---

## üéØ REVIEWER UPDATES

### Current Reviewer Criteria:

1. **Evidence Base (40%)**: Citations, tables, sources
2. **Structure (30%)**: Sections, length, metadata
3. **Matching (20%)**: SMART goals, KPI, alignment
4. **Economics (10%)**: Budget details

### ‚úÖ UPDATED Reviewer Criteria:

#### 1. Evidence Base (40%) - Add Checks:

```python
# New checks to add in _evaluate_evidence_base_async()

problem_section_checks = {
    "section_8_length": len(grant_content.get('section_2_problem', '')) >= 8000,  # 2-4 pages
    "official_statistics": count_sources(grant_content.get('section_2_problem', '')) >= 5,
    "concrete_numbers": count_numbers(grant_content.get('section_2_problem', '')) >= 10,
    "direct_links": count_links_with_format(grant_content.get('section_2_problem', ''), r'\(—Å—Å—ã–ª–∫–∞: https://') >= 5,
    "federal_programs": contains_keywords(grant_content.get('section_2_problem', ''),
                                          ['–Ω–∞—Ü–ø—Ä–æ–µ–∫—Ç', '—Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞', '—Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç']),
    "regional_context": contains_keywords(grant_content.get('section_2_problem', ''),
                                         ['–æ–±–ª–∞—Å—Ç—å', '—Ä–µ–≥–∏–æ–Ω', '—Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è', '–º—É–Ω–∏—Ü–∏–ø–∞–ª—å–Ω']),
    "comparison_table_included": 'comparison_table' in grant_content.get('section_2_problem', '') or
                                '–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π' in grant_content.get('section_2_problem', ''),
    "dynamics_table_included": 'dynamics_table' in grant_content.get('section_2_problem', '') or
                              '–î–∏–Ω–∞–º–∏–∫–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª' in grant_content.get('section_2_problem', ''),
}

# Evidence score calculation update:
evidence_score = (
    (problem_section_checks['section_8_length'] * 2) +  # Critical: 2 points
    (problem_section_checks['official_statistics'] * 2) +  # Critical: 2 points
    (problem_section_checks['concrete_numbers'] * 1) +
    (problem_section_checks['direct_links'] * 1) +
    (problem_section_checks['federal_programs'] * 1) +
    (problem_section_checks['regional_context'] * 1) +
    (problem_section_checks['comparison_table_included'] * 1) +
    (problem_section_checks['dynamics_table_included'] * 1)
) / 10 * 10  # Convert to 0-10 scale
```

#### 2. Structure (30%) - Add Checks:

```python
# New checks to add in _evaluate_structure_async()

fpg_form_checks = {
    "section_1_brief": 'section_1_brief' in grant_content and len(grant_content.get('section_1_brief', '')) >= 1500,
    "section_2_problem": 'section_2_problem' in grant_content and len(grant_content.get('section_2_problem', '')) >= 7000,
    "section_3_goal": 'section_3_goal' in grant_content and len(grant_content.get('section_3_goal', '')) >= 300,
    "section_4_results": 'section_4_results' in grant_content and '–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã' in grant_content.get('section_4_results', ''),
    "section_5_tasks": 'section_5_tasks' in grant_content and len(grant_content.get('section_5_tasks', '').split('‚Ä¢')) >= 3,
    "section_6_partners": 'section_6_partners' in grant_content,
    "section_7_info": 'section_7_info' in grant_content,
    "section_8_future": 'section_8_future' in grant_content,
    "section_9_calendar": 'section_9_calendar' in grant_content and '|' in grant_content.get('section_9_calendar', ''),  # Markdown table

    "quantitative_exact_numbers": all([
        char.isdigit() for part in grant_content.get('section_4_results', '').split('–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ')[1].split('–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ')[0].split()
        if any(c.isdigit() for c in part)
    ]) if '–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ' in grant_content.get('section_4_results', '') else False,

    "qualitative_with_measurement": (
        '–∏–∑–º–µ—Ä–µ–Ω–∏—è' in grant_content.get('section_4_results', '').lower() or
        '–æ–ø—Ä–æ—Å' in grant_content.get('section_4_results', '').lower() or
        '—Ñ–∏–∫—Å–∏—Ä—É–µ—Ç' in grant_content.get('section_4_results', '').lower() or
        '–æ—Ç–∑—ã–≤—ã' in grant_content.get('section_4_results', '').lower()
    ),

    "calendar_table_present": '|' in grant_content.get('section_9_calendar', ''),
    "calendar_rows_count": len([line for line in grant_content.get('section_9_calendar', '').split('\n') if line.startswith('|') and not line.startswith('|---|')]) >= 4,
}

# Structure score calculation:
structure_score = sum([
    fpg_form_checks['section_1_brief'] * 0.5,
    fpg_form_checks['section_2_problem'] * 2,  # Most important
    fpg_form_checks['section_3_goal'] * 0.5,
    fpg_form_checks['section_4_results'] * 1,
    fpg_form_checks['section_5_tasks'] * 0.5,
    fpg_form_checks['section_6_partners'] * 0.5,
    fpg_form_checks['section_7_info'] * 0.5,
    fpg_form_checks['section_8_future'] * 0.5,
    fpg_form_checks['section_9_calendar'] * 1.5,  # Important
    fpg_form_checks['quantitative_exact_numbers'] * 1,
    fpg_form_checks['qualitative_with_measurement'] * 1,
    fpg_form_checks['calendar_table_present'] * 0.5,
    fpg_form_checks['calendar_rows_count'] * 0.5,
]) / 10 * 10  # Convert to 0-10 scale
```

#### 3. Style Check (NEW sub-criterion under Structure):

```python
# New function to add in reviewer_agent.py

def _evaluate_style(self, grant_content: Dict) -> Dict[str, Any]:
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π, —Ç—Ä–µ—Ç—å–µ –ª–∏—Ü–æ)"""

    full_text = ' '.join([
        grant_content.get('section_1_brief', ''),
        grant_content.get('section_2_problem', ''),
        grant_content.get('section_3_goal', ''),
        grant_content.get('section_4_results', ''),
        grant_content.get('section_5_tasks', ''),
    ])

    style_checks = {
        "official_tone": True,  # Would need NLP analysis
        "third_person": not any(word in full_text.lower() for word in ['–º—ã ', ' –º—ã', '–Ω–∞—à', '–Ω–∞—à–∞', '–Ω–∞—à–µ', '–Ω–∞–º–∏']),
        "citation_format": full_text.count('(—Å—Å—ã–ª–∫–∞: https://') >= 5,
        "uses_abbreviations": any(abbr in full_text for abbr in ['–í–û–ó', '–í–¶–ò–û–ú', '–ú–∏–Ω–ó–¥—Ä–∞–≤', '–†–æ—Å–°—Ç–∞—Ç', '–ï–ì–†–Æ–õ', '–ì–ü–•']),
        "long_sentences": True,  # Would need sentence length analysis
        "no_exclamations": '!' not in full_text[:5000],  # Check first 5000 chars
        "data_driven": full_text.count('–ü–æ –¥–∞–Ω–Ω—ã–º') + full_text.count('–°–æ–≥–ª–∞—Å–Ω–æ') >= 5,
    }

    style_score = (
        (style_checks['third_person'] * 3) +  # Critical
        (style_checks['citation_format'] * 2) +  # Critical
        (style_checks['uses_abbreviations'] * 1) +
        (style_checks['no_exclamations'] * 1) +
        (style_checks['data_driven'] * 3)  # Critical
    ) / 10 * 10

    return {
        "score": style_score,
        "checks": style_checks,
        "comments": f"–°—Ç–∏–ª—å: {'–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π ‚úÖ' if style_score >= 7 else '–¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ ‚ùå'}"
    }
```

---

## üìã IMPLEMENTATION CHECKLIST

### Phase 1: Writer V2 Updates (Priority 1 - Critical)
- [ ] Update Stage 1 planning prompt (lines 222-265)
- [ ] Update Stage 2 writing prompt (lines 356-450)
- [ ] Add calendar plan generation in Stage 1
- [ ] Expand problem section to use ALL key_facts
- [ ] Change citation format to official style
- [ ] Switch to third-person style

### Phase 2: Writer V2 Updates (Priority 2 - High)
- [ ] Add qualitative results with measurement methods
- [ ] Extract exact quantitative numbers from user_answers
- [ ] Add partner section from programs
- [ ] Add all 9 sections to output JSON

### Phase 3: Reviewer Updates
- [ ] Add problem section checks (8000+ chars, 10+ numbers, 5+ links)
- [ ] Add FPG form checks (9 required sections)
- [ ] Add style checker (third person, citation format)
- [ ] Update evidence_base scoring formula
- [ ] Update structure scoring formula

### Phase 4: Testing
- [ ] Run E2E tests on 5 test cases
- [ ] Compare with reference grants
- [ ] Measure approval_probability changes
- [ ] Collect feedback

### Phase 5: Iteration
- [ ] Review test results
- [ ] Adjust prompts based on feedback
- [ ] Re-run tests
- [ ] Finalize prompts

---

## üìä EXPECTED IMPROVEMENTS

### Current Performance:
- Average readiness_score: 7.72/10
- Average approval_probability: 48.8%
- Problem section: 1-2 –∞–±–∑–∞—Ü–∞
- Style: –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π, –∂—É—Ä–Ω–∞–ª–∏—Å—Ç—Å–∫–∏–π
- Structure: –°–≤–æ–±–æ–¥–Ω–∞—è —Ñ–æ—Ä–º–∞

### Expected Performance After Updates:
- Average readiness_score: 8.5-9.0/10 (+0.8-1.3)
- Average approval_probability: 52-58% (+3-9%)
- Problem section: 2-4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –ø–æ–ª–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- Style: –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π, –±—é—Ä–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–∏–π, —Ç—Ä–µ—Ç—å–µ –ª–∏—Ü–æ
- Structure: –°—Ç—Ä–æ–≥–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–µ –§–ü–ì (9 —Ä–∞–∑–¥–µ–ª–æ–≤ + –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –ø–ª–∞–Ω)

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞**
**–î–∞—Ç–∞**: 2025-10-09
**–°—Ç–∞—Ç—É—Å**: Ready for Implementation
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: Critical (Phase 1), High (Phases 2-3)
