# GitHub Secrets Setup for CI/CD

## Required Secrets

–ß—Ç–æ–±—ã CI/CD —Ä–∞–±–æ—Ç–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub:

### 1. VPS Connection Secrets (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã)

- ‚úÖ `VPS_HOST` = `5.35.88.251`
- ‚úÖ `VPS_USER` = `root`
- ‚úÖ `VPS_SSH_KEY` = (–ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á)
- ‚úÖ `VPS_PORT` = `22` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 2. Telegram Bot Token (–ù–û–í–û–ï - —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å!)

- ‚ö†Ô∏è `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø—É

#### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å TELEGRAM_BOT_TOKEN:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –±–æ—Ç** (@Grafana_SnowWhite_bot):
   - –¢–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `config/.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `TELEGRAM_BOT_TOKEN` –∏–∑ —Ñ–∞–π–ª–∞

2. **–ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–æ—Ç –¥–ª—è CI/CD**:
   - –ù–∞–ø–∏—Å–∞—Ç—å @BotFather –≤ Telegram
   - –ö–æ–º–∞–Ω–¥–∞ `/newbot`
   - –£–∫–∞–∑–∞—Ç—å –∏–º—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "GrantService Deploy Bot")
   - –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω

#### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç –≤ GitHub:

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. Settings ‚Üí Secrets and variables ‚Üí Actions
3. –ù–∞–∂–∞—Ç—å "New repository secret"
4. Name: TELEGRAM_BOT_TOKEN
5. Value: <–≤—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞>
6. –ù–∞–∂–∞—Ç—å "Add secret"

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ GitHub CLI
gh secret set TELEGRAM_BOT_TOKEN --body "7686393933:AAG_example_token_here"
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–∞:

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ **Actions** tab
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å workflow –≤—Ä—É—á–Ω—É—é: **Run workflow**
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –≥—Ä—É–ø–ø—É -4930683040

## –ì—Ä—É–ø–ø–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

- **Chat ID**: `-4930683040`
- **–ù–∞–∑–≤–∞–Ω–∏–µ**: "–ì—Ä–∞–Ω—Ç—Å–µ—Ä–≤–∏—Å"
- **–¢–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**:
  - üöÄ Deployment started
  - ‚úÖ Deployment success
  - ‚ùå Deployment failed (—Å rollback)
  - ‚ùå Tests failed (–¥–µ–ø–ª–æ–π –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –¢–æ–∫–µ–Ω –±–æ—Ç–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ GitHub Secrets (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω)
- ‚úÖ –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ª–æ–≥–∞—Ö
- ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è GitHub Actions
- ‚úÖ –ú–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ –≥—Ä—É–ø–ø—É

## Troubleshooting

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É**:
   ```bash
   # –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
   curl -X POST "https://api.telegram.org/bot<TOKEN>/sendMessage" \
     -d "chat_id=-4930683040" \
     -d "text=Test notification"
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–æ–∫–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π**:
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ
   curl "https://api.telegram.org/bot<TOKEN>/getMe"
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø–µ**:
   - –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–º –≥—Ä—É–ø–ø—ã
   - –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π

### Workflow –ø–∞–¥–∞–µ—Ç –Ω–∞ —à–∞–≥–µ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏:

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–µ–∫—Ä–µ—Ç `TELEGRAM_BOT_TOKEN` –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ chat_id –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: `-4930683040`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ workflow –≤ GitHub Actions

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-10-04
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è CI/CD —Å —Ç–µ—Å—Ç–∞–º–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
