# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –ì—Ä–∞–Ω—Ç–°–µ—Ä–≤–∏—Å
## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 10 –∏—é–ª—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ, –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ  

---

## üéØ **–û–ë–©–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´**

### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Telegram Bot  ‚îÇ    ‚îÇ   n8n Workflows ‚îÇ    ‚îÇ  Web Admin Panel‚îÇ
‚îÇ   (Frontend)    ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Backend)     ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Management)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚ñº                       ‚ñº                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   GigaChat API  ‚îÇ    ‚îÇ   PostgreSQL    ‚îÇ    ‚îÇ   File Storage  ‚îÇ
‚îÇ   (AI Engine)   ‚îÇ    ‚îÇ   (Database)    ‚îÇ    ‚îÇ   (Documents)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### **–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:**
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** ‚Üí Telegram Bot (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
2. **Telegram Bot** ‚Üí n8n Workflows (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
3. **n8n** ‚Üí GigaChat API (–ò–ò-–æ–±—Ä–∞–±–æ—Ç–∫–∞)
4. **n8n** ‚Üí PostgreSQL (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)
5. **n8n** ‚Üí File Storage (–¥–æ–∫—É–º–µ–Ω—Ç—ã)
6. **Web Admin** ‚Üí PostgreSQL (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)

---

## ü§ñ **TELEGRAM BOT (Frontend)**

### **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- **Framework:** python-telegram-bot v20+
- **–Ø–∑—ã–∫:** Python 3.9+
- **–•–æ—Å—Ç–∏–Ω–≥:** Beget VPS

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- **–ö–æ–º–∞–Ω–¥—ã:** `/start`, `/interview`, `/status`, `/help`
- **–≠—Ç–∞–ø—ã —Ä–∞–±–æ—Ç—ã:** 4 –∞–≥–µ–Ω—Ç–∞ (–ò–Ω—Ç–µ—Ä–≤—å—é–µ—Ä ‚Üí –ê—É–¥–∏—Ç–æ—Ä ‚Üí –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ ‚Üí –ü–∏—Å–∞—Ç–µ–ª—å)
- **–§–∞–π–ª—ã:** –≠–∫—Å–ø–æ—Ä—Ç –≤ Word/PDF —Ñ–æ—Ä–º–∞—Ç–∞—Ö

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**
```
telegram-bot/
‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ handlers/            # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ start.py        # –ö–æ–º–∞–Ω–¥–∞ /start
‚îÇ   ‚îú‚îÄ‚îÄ interview.py    # –ê–≥–µ–Ω—Ç-–∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ auditor.py      # –ê–≥–µ–Ω—Ç-–∞—É–¥–∏—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ planner.py      # –ê–≥–µ–Ω—Ç-–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
‚îÇ   ‚îî‚îÄ‚îÄ writer.py       # –ê–≥–µ–Ω—Ç-–ø–∏—Å–∞—Ç–µ–ª—å
‚îú‚îÄ‚îÄ services/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ gigachat.py     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GigaChat
‚îÇ   ‚îú‚îÄ‚îÄ database.py     # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ documents.py    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ config/             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ settings.py     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îî‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

### **API Endpoints (n8n webhooks):**
```
POST /webhook/telegram/start
POST /webhook/telegram/interview
POST /webhook/telegram/auditor
POST /webhook/telegram/planner
POST /webhook/telegram/writer
```

---

## ‚öôÔ∏è **N8N WORKFLOWS (Backend)**

### **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- **Platform:** n8n.io
- **–•–æ—Å—Ç–∏–Ω–≥:** Railway ($5/–º–µ—Å—è—Ü) –∏–ª–∏ Beget VPS
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** GigaChat API, PostgreSQL, Telegram

### **–û—Å–Ω–æ–≤–Ω—ã–µ Workflows:**

#### **1. User Registration Workflow**
```
Telegram Webhook ‚Üí Validate User ‚Üí Create DB Record ‚Üí Send Welcome
```

#### **2. Interview Agent Workflow**
```
User Input ‚Üí GigaChat API ‚Üí Save Response ‚Üí Next Question ‚Üí Update Progress
```

#### **3. Auditor Agent Workflow**
```
Project Data ‚Üí GigaChat Analysis ‚Üí Generate Report ‚Üí Save Results
```

#### **4. Planner Agent Workflow**
```
Audit Results ‚Üí GigaChat Planning ‚Üí Create Structure ‚Üí Save Plan
```

#### **5. Writer Agent Workflow**
```
Project Plan ‚Üí GigaChat Writing ‚Üí Generate Document ‚Üí Export File
```

### **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```env
TELEGRAM_BOT_TOKEN=your_bot_token
GIGACHAT_API_KEY=your_gigachat_key
DATABASE_URL=postgresql://user:pass@host:port/db
WEBHOOK_URL=https://your-n8n-instance.com
```

---

## üåê **WEB ADMIN PANEL (Management)**

### **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- **Frontend:** Vue.js 3 + Bootstrap 5
- **Backend:** FastAPI (Python)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL
- **–•–æ—Å—Ç–∏–Ω–≥:** Beget VPS

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**
```
web-admin/
‚îú‚îÄ‚îÄ frontend/           # Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/ # Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ views/      # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ router/     # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ store/      # Vuex store
‚îÇ   ‚îî‚îÄ‚îÄ public/         # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ backend/            # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/        # API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/     # Pydantic –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/   # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database/   # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ main.py         # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ docker-compose.yml  # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
```

### **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**

#### **1. Dashboard (–ì–ª–∞–≤–Ω–∞—è)**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
- –ì—Ä–∞—Ñ–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏
- –°–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### **2. Prompt Manager (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏)**
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏ –∞–≥–µ–Ω—Ç–æ–≤
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
- A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### **3. User Management (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

#### **4. Analytics (–ê–Ω–∞–ª–∏—Ç–∏–∫–∞)**
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ —ç—Ç–∞–ø–∞–º
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞—è–≤–æ–∫
- –ö–∞—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### **5. System Monitoring (–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)**
- –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
- –û—à–∏–±–∫–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å API
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### **API Endpoints:**
```python
# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
POST /api/auth/login
POST /api/auth/logout
GET /api/auth/me

# –ü—Ä–æ–º–ø—Ç—ã
GET /api/prompts
POST /api/prompts
PUT /api/prompts/{id}
DELETE /api/prompts/{id}
POST /api/prompts/{id}/test

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
GET /api/users
GET /api/users/{id}
PUT /api/users/{id}
DELETE /api/users/{id}

# –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
GET /api/analytics/dashboard
GET /api/analytics/users
GET /api/analytics/applications
GET /api/analytics/performance

# –°–∏—Å—Ç–µ–º–∞
GET /api/system/logs
GET /api/system/health
GET /api/system/status
```

---

## üß† **GIGACHAT API (AI Engine)**

### **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- **API Endpoint:** https://api.gigachat.ru/v1/chat/completions
- **–ú–æ–¥–µ–ª—å:** GigaChat-Max
- **–¢–æ–∫–µ–Ω—ã:** ~2000 –Ω–∞ –∑–∞–ø—Ä–æ—Å
- **–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~50-100‚ÇΩ/–º–µ—Å—è—Ü

### **–ü—Ä–æ–º–ø—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤:**

#### **–ê–≥–µ–Ω—Ç-–ò–Ω—Ç–µ—Ä–≤—å—é–µ—Ä:**
```python
SYSTEM_PROMPT = """
–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –≥—Ä–∞–Ω—Ç–∞–º, –ø—Ä–æ–≤–æ–¥–∏—à—å –∏–Ω—Ç–µ—Ä–≤—å—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏.
–ó–∞–¥–∞–≤–∞–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã:
1. –ù–∞–∑–≤–∞–Ω–∏–µ –∏ —Å—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞  
2. –¢–∏–ø –≥—Ä–∞–Ω—Ç–∞ –∏ —Ñ–æ–Ω–¥
3. –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞
4. –ë—é–¥–∂–µ—Ç –∏ —Å—Ä–æ–∫–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
5. –ö–æ–º–∞–Ω–¥–∞ –∏ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏
6. –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –∑–∞–¥–∞–≤–∞–π 1-2 —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–∞.
–°–æ–±–µ—Ä–∏ –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∑–∞ 7-10 –≤–æ–ø—Ä–æ—Å–æ–≤.
"""
```

#### **–ê–≥–µ–Ω—Ç-–ê—É–¥–∏—Ç–æ—Ä:**
```python
SYSTEM_PROMPT = """
–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç-–∞—É–¥–∏—Ç–æ—Ä –≥—Ä–∞–Ω—Ç–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.
–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å –ø—Ä–æ–µ–∫—Ç –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º:

1. –ò–ù–ù–û–í–ê–¶–ò–û–ù–ù–û–°–¢–¨ (1-10): –ù–∞—Å–∫–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª–µ–Ω –ø—Ä–æ–µ–∫—Ç?
2. –†–ï–ê–õ–ò–°–¢–ò–ß–ù–û–°–¢–¨ (1-10): –í—ã–ø–æ–ª–Ω–∏–º –ª–∏ –ø–ª–∞–Ω –≤ —Å—Ä–æ–∫/–±—é–¥–∂–µ—Ç?  
3. –ö–û–ú–ê–ù–î–ê (1-10): –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π?
4. –í–û–ó–î–ï–ô–°–¢–í–ò–ï (1-10): –ú–∞—Å—à—Ç–∞–± –ø–æ–ª—å–∑—ã –¥–ª—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏
5. –£–°–¢–û–ô–ß–ò–í–û–°–¢–¨ (1-10): –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—Å—è –ª–∏ –ø–æ—Å–ª–µ –≥—Ä–∞–Ω—Ç–∞?

–î–∞–π –æ–±—â—É—é –æ—Ü–µ–Ω–∫—É –∏ 3-5 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ —É–ª—É—á—à–µ–Ω–∏—é.
"""
```

#### **–ê–≥–µ–Ω—Ç-–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫:**
```python
SYSTEM_PROMPT = """
–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—é –≥—Ä–∞–Ω—Ç–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫.
–ù–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤—å—é —Å–æ–∑–¥–∞–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∑–∞—è–≤–∫–∏:

1. –¢–ò–¢–£–õ–¨–ù–´–ô –õ–ò–°–¢ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Å—Ä–æ–∫–∏, –±—é–¥–∂–µ—Ç)
2. –ê–ù–ù–û–¢–ê–¶–ò–Ø (–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤ 200 —Å–ª–æ–≤)  
3. –ê–ö–¢–£–ê–õ–¨–ù–û–°–¢–¨ (–ø—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ–º)
4. –¶–ï–õ–ò –ò –ó–ê–î–ê–ß–ò (—á—Ç–æ –¥–æ—Å—Ç–∏–≥–Ω–µ–º, –∫–∞–∫ –∏–∑–º–µ—Ä–∏–º)
5. –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò (—ç—Ç–∞–ø—ã, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏)
6. –ë–Æ–î–ñ–ï–¢ (–¥–µ—Ç–∞–ª—å–Ω–∞—è —Å–º–µ—Ç–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤)
7. –ö–û–ú–ê–ù–î–ê (—Ä–æ–ª–∏, –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏, –æ–ø—ã—Ç)
8. –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´ (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–∑–º–µ—Ä–∏–º—ã–µ –∏—Ç–æ–≥–∏)
9. –£–°–¢–û–ô–ß–ò–í–û–°–¢–¨ (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è)
10. –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø (–¥–æ–∫—É–º–µ–Ω—Ç—ã, –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ)
"""
```

#### **–ê–≥–µ–Ω—Ç-–ü–∏—Å–∞—Ç–µ–ª—å:**
```python
SYSTEM_PROMPT = """
–¢—ã - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞–π—Ç–µ—Ä –≥—Ä–∞–Ω—Ç–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫ —Å –æ–ø—ã—Ç–æ–º 10+ –ª–µ—Ç.
–ü–∏—à–µ—à—å —É–±–µ–¥–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç –≥—Ä–∞–Ω—Ç—ã.

–ù–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ–∑–¥–∞–π –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –∑–∞—è–≤–∫–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π –∞–∫—Ç–∏–≤–Ω—ã–π –∑–∞–ª–æ–≥ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∞–∫—Ç—ã
- –î–æ–±–∞–≤–ª—è–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ —Ü–∏—Ñ—Ä—ã –¥–ª—è —É–±–µ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ü–∏—à–∏ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ  
- –ü–æ–¥—á–µ—Ä–∫–∏–≤–∞–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏ –≤–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞
- –ò—Å–ø–æ–ª—å–∑—É–π –≥—Ä–∞–Ω—Ç–æ–≤—É—é —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é
- –û–±—ä–µ–º –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ 200-500 —Å–ª–æ–≤

–°–æ–∑–¥–∞–≤–∞–π —Ç–µ–∫—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–±–µ–∂–¥–∞—é—Ç –≤ –∫–æ–Ω–∫—É—Ä—Å–∞—Ö!
"""
```

---

## üóÑÔ∏è **POSTGRESQL DATABASE**

### **–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**

#### **–¢–∞–±–ª–∏—Ü–∞: users**
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    telegram_id BIGINT UNIQUE NOT NULL,
    username VARCHAR(100),
    first_name VARCHAR(100),
    last_name VARCHAR(100),
    role VARCHAR(20) DEFAULT 'user',
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

#### **–¢–∞–±–ª–∏—Ü–∞: prompts**
```sql
CREATE TABLE prompts (
    id SERIAL PRIMARY KEY,
    agent_type VARCHAR(50) NOT NULL,
    prompt_text TEXT NOT NULL,
    version VARCHAR(20) DEFAULT '1.0',
    is_active BOOLEAN DEFAULT true,
    created_by INTEGER REFERENCES users(id),
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

#### **–¢–∞–±–ª–∏—Ü–∞: applications**
```sql
CREATE TABLE applications (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    title VARCHAR(255),
    grant_type VARCHAR(100),
    stage VARCHAR(50) DEFAULT 'interview',
    interview_data JSONB,
    audit_data JSONB,
    plan_data JSONB,
    final_document TEXT,
    is_completed BOOLEAN DEFAULT false,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

#### **–¢–∞–±–ª–∏—Ü–∞: ai_requests**
```sql
CREATE TABLE ai_requests (
    id SERIAL PRIMARY KEY,
    application_id INTEGER REFERENCES applications(id),
    agent_type VARCHAR(50),
    prompt TEXT,
    response TEXT,
    tokens_used INTEGER,
    duration_ms INTEGER,
    created_at TIMESTAMP DEFAULT NOW()
);
```

#### **–¢–∞–±–ª–∏—Ü–∞: analytics**
```sql
CREATE TABLE analytics (
    id SERIAL PRIMARY KEY,
    metric_type VARCHAR(50),
    metric_value NUMERIC,
    metadata JSONB,
    timestamp TIMESTAMP DEFAULT NOW()
);
```

---

## üìÅ **FILE STORAGE**

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è:**
```
/var/GrantService/storage/
‚îú‚îÄ‚îÄ documents/          # –ì–æ—Ç–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ word/          # .docx —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ pdf/           # .pdf —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ templates/     # –®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ uploads/           # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ presentations/ # –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ plans/         # –ü–ª–∞–Ω—ã –ø—Ä–æ–µ–∫—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ other/         # –ü—Ä–æ—á–∏–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ logs/              # –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
    ‚îú‚îÄ‚îÄ telegram/      # –õ–æ–≥–∏ –±–æ—Ç–∞
    ‚îú‚îÄ‚îÄ n8n/           # –õ–æ–≥–∏ workflows
    ‚îî‚îÄ‚îÄ web-admin/     # –õ–æ–≥–∏ –∞–¥–º–∏–Ω–∫–∏
```

### **–§–æ—Ä–º–∞—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**
- **Word (.docx):** –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –∑–∞—è–≤–æ–∫
- **PDF:** –î–ª—è —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- **Templates:** –®–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ–Ω–¥–æ–≤

---

## üîí **–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨**

### **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –≤–µ–±-–∞–¥–º–∏–Ω–∫–∏
- Telegram ID –¥–ª—è –±–æ—Ç–∞
- –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (user, admin, coordinator)

### **–ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö:**
- HTTPS –¥–ª—è –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (bcrypt)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- Rate limiting –¥–ª—è API

### **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:**
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –†–§
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–æ—Å—Å–∏–π—Å–∫–æ–π LLM (GigaChat)
- –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üìä **–ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –ú–ï–¢–†–ò–ö–ò**

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏:**
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API (<2 —Å–µ–∫—É–Ω–¥)
- Uptime —Å–µ—Ä–≤–∏—Å–∞ (>99%)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫

### **–ü—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ —ç—Ç–∞–ø–∞–º
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏

### **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã
- Health check endpoints
- –î–∞—à–±–æ—Ä–¥ –≤ –≤–µ–±-–∞–¥–º–∏–Ω–∫–µ

---

## üöÄ **–†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï**

### **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- **VPS:** Beget (—Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä)
- **–î–æ–º–µ–Ω:** –ü–æ–¥–¥–æ–º–µ–Ω –æ—Ç –≥—Ä–∞–Ω—Ç—Å–µ—Ä–≤–∏—Å.—Ä—Ñ
- **SSL:** Let's Encrypt
- **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã

### **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:**
```yaml
# docker-compose.yml
version: '3.8'
services:
  telegram-bot:
    build: ./telegram-bot
    environment:
      - TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN}
    volumes:
      - ./storage:/app/storage

  web-admin:
    build: ./web-admin
    ports:
      - "80:80"
      - "443:443"
    depends_on:
      - postgres

  postgres:
    image: postgres:13
    environment:
      - POSTGRES_DB=grantservice
      - POSTGRES_USER=grantservice
      - POSTGRES_PASSWORD=${DB_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:
```

---

## üìã **–ü–õ–ê–ù –†–ê–ó–†–ê–ë–û–¢–ö–ò**

### **–§–∞–∑–∞ 1: MVP (16-30 –∏—é–ª—è)**
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç–µ—Ö–∑–∞–¥–∞–Ω–∏–µ
- üîÑ –ë–∞–∑–æ–≤–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (16-23 –∏—é–ª—è)
- üìÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ MVP (23-30 –∏—é–ª—è)

### **–§–∞–∑–∞ 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1-15 –∞–≤–≥—É—Å—Ç–∞)**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å 5-7 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –°–±–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤

### **–§–∞–∑–∞ 3: –ü—Ä–æ–¥–∞–∫—à–Ω (1 —Å–µ–Ω—Ç—è–±—Ä—è)**
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫
- –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìû **–ü–û–î–î–ï–†–ñ–ö–ê**

- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** –ù–∏–∫–æ–ª–∞–π –°—Ç–µ–ø–∞–Ω–æ–≤
- **–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç:** –ê–Ω–¥—Ä–µ–π –û—Ç–∏–Ω–æ–≤ (@otinoff)
- **Email:** otinoff@gmail.com
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** /var/GrantService/docs/

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 10 –∏—é–ª—è 2025  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 10 –∏—é–ª—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç—É–∞–ª—å–Ω–æ 