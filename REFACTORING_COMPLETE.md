# üéØ –ü–û–õ–ù–´–ô –†–ï–§–ê–ö–¢–û–†–ò–ù–ì –ê–î–ú–ò–ù–ö–ò GRANTSERVICE

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –†–ê–ë–û–¢–´

### 1. –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
```
GrantService/
‚îú‚îÄ‚îÄ core/                       # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py            # –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ config.py              # –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ paths.py               # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É—Ç—è–º–∏ (Windows/Linux)
‚îÇ   ‚îî‚îÄ‚îÄ environment.py         # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ launcher.py                # –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ admin.bat                  # –ó–∞–ø—É—Å–∫ –¥–ª—è Windows
‚îú‚îÄ‚îÄ admin.sh                   # –ó–∞–ø—É—Å–∫ –¥–ª—è Linux/Ubuntu
‚îî‚îÄ‚îÄ refactor_pages.py          # –°–∫—Ä–∏–ø—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
```

### 2. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö 18 —Ñ–∞–π–ª–æ–≤ –≤ pages/
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å sys.path
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –¥–æ –º–∏–Ω–∏–º—É–º–∞
- ‚úÖ –£–±—Ä–∞–Ω—ã hardcoded –ø—É—Ç–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### 3. –†–µ—à–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã
- ‚ùå **–ë—ã–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞**: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω –º–æ–¥—É–ª–µ–π `config`
- ‚úÖ **–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å `core` —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º namespace

- ‚ùå **–ë—ã–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞**: –°–ª–æ–∂–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –≤ –∫–∞–∂–¥–æ–º —Ñ–∞–π–ª–µ
- ‚úÖ **–†–µ—à–µ–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ launcher.py

- ‚ùå **–ë—ã–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞**: –ù–µ —Ä–∞–±–æ—Ç–∞–ª–æ –Ω–∞ Windows –∏–∑-–∑–∞ Linux –ø—É—Ç–µ–π
- ‚úÖ **–†–µ—à–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –û–° –≤ PathManager

## üìã –ö–ê–ö –ó–ê–ü–£–°–ö–ê–¢–¨

### Windows:
```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –±–∞—Ç–Ω–∏–∫
admin.bat

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞–ø—Ä—è–º—É—é
python launcher.py
```

### Ubuntu/Linux:
```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
chmod +x admin.sh
./admin.sh

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞–ø—Ä—è–º—É—é
python3 launcher.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
python launcher.py --test
```

## üîß –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –†–ï–®–ï–ù–ò–Ø

### –ü—Ä–∏–Ω—Ü–∏–ø—ã:
1. **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞** - –≤—Å–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ launcher.py
2. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ pages** - —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—Ç–∞–ª–∏ –ø—Ä–æ—Å—Ç—ã–º–∏
3. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –≤—Å—è –ª–æ–≥–∏–∫–∞ –≤ core/
4. **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –û–°

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **launcher.py**:
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ core.environment
   - –î–æ–±–∞–≤–ª—è–µ—Ç –Ω—É–∂–Ω—ã–µ –ø—É—Ç–∏ –≤ sys.path
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç Streamlit —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

2. **core/paths.py**:
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –û–° (Windows/Linux)
   - –ù–∞—Ö–æ–¥–∏—Ç –±–∞–∑–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å–µ –ø—É—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

3. **core/environment.py**:
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç sys.path
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –°–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

4. **core/config.py**:
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Telegram –±–æ—Ç–∞
   - –£–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ Streamlit
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üìÑ –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ö–û–î–ï –°–¢–†–ê–ù–ò–¶

**–ë—ã–ª–æ (—Å–ª–æ–∂–Ω–æ):**
```python
import sys
import os

# –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π —Å –ø—É—Ç—è–º–∏
current_dir = os.path.dirname(os.path.abspath(__file__))
parent_dir = os.path.dirname(current_dir)
grandparent_dir = os.path.dirname(parent_dir)
sys.path.insert(0, grandparent_dir)
sys.path.insert(0, parent_dir)

# –°–ª–æ–∂–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
from web_admin.utils.auth import is_user_authorized
# ... –º–Ω–æ–≥–æ –∫–æ–¥–∞ ...
```

**–°—Ç–∞–ª–æ (–ø—Ä–æ—Å—Ç–æ):**
```python
import streamlit as st
import sys
import os

# Simple imports without path manipulation
# The environment will be set up by the launcher

# Authorization check
try:
    from utils.auth import is_user_authorized
    if not is_user_authorized():
        st.error("‚õî –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω / Not authorized")
        st.info("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞")
        st.stop()
except ImportError as e:
    st.error(f"‚ùå –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞: {e}")
    st.info("–ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ launcher.py")
    st.stop()
```

## üöÄ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –ù–û–í–û–ì–û –ü–û–î–•–û–î–ê

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –°—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç—ã–µ, –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows –∏ Linux
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
5. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å**: –í—Å—è –ª–æ–≥–∏–∫–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

## ‚ö†Ô∏è –í–ê–ñ–ù–û

### –ù–ï –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é:
```bash
# –≠—Ç–æ –ù–ï –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:
streamlit run web-admin/pages/üè†_–ì–ª–∞–≤–Ω–∞—è.py

# –≠—Ç–æ —Ç–æ–∂–µ –ù–ï –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:
python start_admin.bat  # .bat —Ñ–∞–π–ª—ã –Ω–µ Python —Å–∫—Ä–∏–ø—Ç—ã!
```

### –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ launcher:
```bash
# Windows:
admin.bat
# –∏–ª–∏
python launcher.py

# Linux:
./admin.sh
# –∏–ª–∏
python3 launcher.py
```

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç:
```bash
python launcher.py --test
```

–£—Å–ø–µ—à–Ω—ã–π —Ç–µ—Å—Ç –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
```
[TESTING IMPORTS]
‚úì utils.auth imported successfully
‚úì data.database imported successfully
‚úì Bot constants loaded via importlib

[ENVIRONMENT INFO]
OS: Windows
Base Path: C:\SnowWhiteAI\GrantService
Web Admin: C:\SnowWhiteAI\GrantService\web-admin
...
```

## üìù –§–ê–ô–õ–´ –ü–†–û–ï–ö–¢–ê

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `/core/__init__.py` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–¥—Ä–∞
- `/core/paths.py` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É—Ç—è–º–∏
- `/core/environment.py` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `/core/config.py` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `/launcher.py` - –ì–ª–∞–≤–Ω—ã–π –∑–∞–ø—É—Å–∫–∞—é—â–∏–π —Ñ–∞–π–ª
- `/admin.bat` - –ë–∞—Ç–Ω–∏–∫ –¥–ª—è Windows
- `/admin.sh` - –°–∫—Ä–∏–ø—Ç –¥–ª—è Linux
- `/refactor_pages.py` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- –í—Å–µ 18 —Ñ–∞–π–ª–æ–≤ –≤ `/web-admin/pages/` —É–ø—Ä–æ—â–µ–Ω—ã

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢

–ê–¥–º–∏–Ω–∫–∞ —Ç–µ–ø–µ—Ä—å:
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Windows
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Ubuntu/Linux
- ‚úÖ –ò–º–µ–µ—Ç –ø—Ä–æ—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- ‚úÖ –õ–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ –ì–æ—Ç–æ–≤–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤ Docker

---
**–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!**