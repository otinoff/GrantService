ram-bot# 
root@xkwmiregrh:/var/GrantService/telegram-bot# cd /var/GrantService && python3 -c "from data.database import db; db.insert_default_prompts()"
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 6 –ø—Ä–æ–º–ø—Ç–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
root@xkwmiregrh:/var/GrantService# 
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ git –≤–µ—Ç–∫–∏ –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ CrewAI –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å –∞–≥–µ–Ω—Ç–∞–º–∏
- –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏
- –ì–æ—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

---

### **–≠–¢–ê–ü 2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** üìä
**–í—Ä–µ–º—è:** 1-2 –¥–Ω—è  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç

#### **–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤:
  ```sql
  CREATE TABLE agent_tasks (
      id INTEGER PRIMARY KEY,
      task_id VARCHAR(100) UNIQUE,
      agent_type VARCHAR(50),
      input_data TEXT,
      output_data TEXT,
      status VARCHAR(30) DEFAULT 'pending',
      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
  );
  
  CREATE TABLE agent_prompts (
      id INTEGER PRIMARY KEY,
      agent_type VARCHAR(50),
      prompt_text TEXT,
      version INTEGER DEFAULT 1,
      active BOOLEAN DEFAULT 1
  );
  ```
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞–≥–µ–Ω—Ç–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –¢–∞–±–ª–∏—Ü—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–Ω–æ–≥–æ–∞–≥–µ–Ω—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

---

### **–≠–¢–ê–ü 3: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** üìÅ
**–í—Ä–µ–º—è:** 2-3 –¥–Ω—è  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç

#### **–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `__init__.py` —Ñ–∞–π–ª–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### **–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
```
telegram-bot/
‚îú‚îÄ‚îÄ agents/__init__.py
‚îú‚îÄ‚îÄ crew/__init__.py
‚îú‚îÄ‚îÄ handlers/__init__.py
‚îú‚îÄ‚îÄ services/__init__.py
‚îú‚îÄ‚îÄ utils/__init__.py
‚îú‚îÄ‚îÄ config/__init__.py
‚îî‚îÄ‚îÄ tests/__init__.py
```

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ì–æ—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫
- –ë–∞–∑–æ–≤—ã–µ –∏–º–ø–æ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- –ú–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å –ø–µ—Ä–µ–Ω–æ—Å –∫–æ–¥–∞

---

### **–≠–¢–ê–ü 4: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ–º–ø—Ç—ã** ‚öôÔ∏è
**–í—Ä–µ–º—è:** 2-3 –¥–Ω—è  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç

#### **–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `config/settings.py` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∞–≥–µ–Ω—Ç–æ–≤
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `config/constants.py` —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞:
  - **Interviewer Agent**: –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–≤—å—é
  - **Researcher Agent**: –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  - **Writer Agent**: –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏
  - **Auditor Agent**: –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π (Perplexity, –ì–∏–≥–∞–ß–∞—Ç)

#### **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ config/settings.py:**
```python
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
BOT_TOKEN = os.getenv('TELEGRAM_BOT_TOKEN')
N8N_WEBHOOK_URL = os.getenv('N8N_WEBHOOK_URL')

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≥–µ–Ω—Ç–æ–≤
PERPLEXITY_API_KEY = os.getenv('PERPLEXITY_API_KEY')
GIGACHAT_API_KEY = os.getenv('GIGACHAT_API_KEY')

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ CrewAI
CREWAI_MAX_RPM = 10
CREWAI_VERBOSE = True

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
LOG_LEVEL = logging.INFO
LOG_FILE = '/var/GrantService/logs/telegram_bot.log'
```

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ API

---

### **–≠–¢–ê–ü 5: –°–µ—Ä–≤–∏—Å—ã –∏ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** üîß
**–í—Ä–µ–º—è:** 3-4 –¥–Ω—è  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç

#### **–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `services/database_service.py` (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `services/perplexity_service.py`:
  ```python
  class PerplexityService:
      def __init__(self, api_key):
          self.api_key = api_key
          
      async def research_project_context(self, project_description):
          """–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ Perplexity"""
          
      async def find_similar_projects(self, project_type):
          """–ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤"""
  ```
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `services/gigachat_service.py`:
  ```python
  class GigaChatService:
      def __init__(self, api_key):
          self.api_key = api_key
          
      async def generate_grant_application(self, interview_data):
          """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞—è–≤–∫–∏ –Ω–∞ –≥—Ä–∞–Ω—Ç"""
          
      async def analyze_application_quality(self, application_text):
          """–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –∑–∞—è–≤–∫–∏"""
  ```
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `services/interview_service.py` (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `services/menu_service.py`

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Perplexity API
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ì–∏–≥–∞–ß–∞—Ç API
- –†–∞–∑–¥–µ–ª–µ–Ω–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é –∞–≥–µ–Ω—Ç–æ–≤

---

### **–≠–¢–ê–ü 6: –°–æ–∑–¥–∞–Ω–∏–µ CrewAI –∞–≥–µ–Ω—Ç–æ–≤** ü§ñ
**–í—Ä–µ–º—è:** 3-4 –¥–Ω—è  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç

#### **–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `agents/interviewer_agent.py`:
  ```python
  from crewai import Agent
  from services.database_service import DatabaseService
  from services.interview_service import InterviewService
  
  interviewer_agent = Agent(
      role="Grant Application Interviewer",
      goal="Conduct comprehensive 30-question interview via Telegram bot",
      backstory="Expert interviewer specialized in grant applications",
      tools=[DatabaseService(), InterviewService()],
      verbose=True,
      memory=True
  )
  ```
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `agents/researcher_agent.py`:
  ```python
  researcher_agent = Agent(
      role="Project Context Researcher",
      goal="Research project context and find similar successful projects",
      backstory="Expert researcher with access to latest information",
      tools=[PerplexityService()],
      verbose=True
  )
  ```
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `agents/writer_agent.py`:
  ```python
  writer_agent = Agent(
      role="Grant Application Writer",
      goal="Create professional grant application based on interview data",
      backstory="Expert grant writer with 10+ years experience",
      tools=[GigaChatService()],
      verbose=True
  )
  ```
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `agents/auditor_agent.py`:
  ```python
  auditor_agent = Agent(
      role="Application Quality Auditor",
      goal="Analyze and improve grant application quality",
      backstory="Expert auditor specialized in grant applications",
      tools=[GigaChatService()],
      verbose=True
  )
  ```

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- 4 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏

---

### **–≠–¢–ê–ü 7: CrewAI –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è** üéº
**–í—Ä–µ–º—è:** 2-3 –¥–Ω—è  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç

#### **–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `crew/grant_crew.py`:
  ```python
  from crewai import Crew, Process
  
  grant_crew = Crew(
      agents=[interviewer_agent, researcher_agent, writer_agent, auditor_agent],
      tasks=[interview_task, research_task, writing_task, audit_task],
      process=Process.sequential,
      verbose=True,
      max_rpm=10
  )
  ```
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `crew/tasks.py` —Å –∑–∞–¥–∞—á–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ fallback –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û—Ä–∫–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∞–≥–µ–Ω—Ç–æ–≤
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

### **–≠–¢–ê–ü 8: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** üéÆ
**–í—Ä–µ–º—è:** 3-4 –¥–Ω—è  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç

#### **–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `handlers/menu_handlers.py` (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `handlers/interview_handlers.py` (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–≥–µ–Ω—Ç–∞–º–∏)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `handlers/callback_handlers.py`
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `handlers/message_handlers.py`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è CrewAI –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

#### **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ handlers/interview_handlers.py:**
```python
class InterviewHandlers:
    def __init__(self, grant_crew):
        self.grant_crew = grant_crew
        
    async def start_interview(self, update, context):
        """–ù–∞—á–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤—å—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–≥–µ–Ω—Ç–æ–≤"""
        result = await self.grant_crew.kickoff({
            'user_id': update.effective_user.id,
            'action': 'start_interview'
        })
        
    async def handle_answer(self, update, context):
        """–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å interviewer_agent
```

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –∞–≥–µ–Ω—Ç–∞–º–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∞–≥–µ–Ω—Ç–æ–≤

---

### **–≠–¢–ê–ü 9: –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** üéØ
**–í—Ä–µ–º—è:** 1-2 –¥–Ω—è  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç

#### **–ó–∞–¥–∞—á–∏:**
- [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `main.py` (50-80 —Å—Ç—Ä–æ–∫)
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤ –∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ main.py:**
```python
class GrantServiceBot:
    def __init__(self):
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
        self.database_service = DatabaseService()
        self.perplexity_service = PerplexityService()
        self.gigachat_service = GigaChatService()
        
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–æ–≤
        self.interviewer_agent = InterviewerAgent()
        self.researcher_agent = ResearcherAgent()
        self.writer_agent = WriterAgent()
        self.auditor_agent = AuditorAgent()
        
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥—ã
        self.grant_crew = GrantCrew([
            self.interviewer_agent,
            self.researcher_agent,
            self.writer_agent,
            self.auditor_agent
        ])
        
    def setup_handlers(self, application):
        """–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤"""
        
    def run(self):
        """–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞"""
```

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ß–∏—Å—Ç—ã–π –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

---

### **–≠–¢–ê–ü 10: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ–±-–∞–¥–º–∏–Ω–∫–∏** üåê
**–í—Ä–µ–º—è:** 2-3 –¥–Ω—è  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç

#### **–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `web-admin/agents_monitoring.py`:
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –∞–≥–µ–Ω—Ç–æ–≤
  - –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `web-admin/main_admin.py`:
  - –ù–æ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏
  - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ `web-admin/analytics_enhanced.py`:
  - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
  - –û—Ç—á–µ—Ç—ã –ø–æ –∞–≥–µ–Ω—Ç–∞–º
  - –ö–∞—á–µ—Å—Ç–≤–æ –∑–∞—è–≤–æ–∫

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ê–¥–º–∏–Ω–∫–∞ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –∞–≥–µ–Ω—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

---

### **–≠–¢–ê–ü 11: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞** üß™
**–í—Ä–µ–º—è:** 2-3 –¥–Ω—è  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç

#### **–ó–∞–¥–∞—á–∏:**
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π API
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞
- [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –û—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–æ–∫

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

---

### **–≠–¢–ê–ü 12: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** üöÄ
**–í—Ä–µ–º—è:** 1-2 –¥–Ω—è  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç

#### **–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –†–∞–±–æ—á–∞—è –º–Ω–æ–≥–æ–∞–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

## üìä **–ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê**

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏:**
- ‚úÖ **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤:** –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å < 150 —Å—Ç—Ä–æ–∫
- ‚úÖ **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°–Ω–∏–∂–µ–Ω–∏–µ cyclomatic complexity
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–æ–∫—Ä—ã—Ç–∏–µ > 80%
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ < 2 —Å–µ–∫

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- ‚úÖ **30 –≤–æ–ø—Ä–æ—Å–æ–≤:** –ü–æ–ª–Ω–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é
- ‚úÖ **4 –∞–≥–µ–Ω—Ç–∞:** –†–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** Perplexity + –ì–∏–≥–∞–ß–∞—Ç
- ‚úÖ **UX:** –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

---

## üéØ **–ü–†–ò–û–†–ò–¢–ï–¢–´ –†–ê–ó–†–ê–ë–û–¢–ö–ò**

### **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. **–≠—Ç–∞–ø 1-3:** –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
2. **–≠—Ç–∞–ø 4-5:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ API
3. **–≠—Ç–∞–ø 6-7:** –ê–≥–µ–Ω—Ç—ã –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

### **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
4. **–≠—Ç–∞–ø 8-9:** –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
5. **–≠—Ç–∞–ø 10:** –í–µ–±-–∞–¥–º–∏–Ω–∫–∞
6. **–≠—Ç–∞–ø 11:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
7. **–≠—Ç–∞–ø 12:** –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

---

## üö® **–†–ò–°–ö–ò –ò –ú–ò–¢–ò–ì–ê–¶–ò–Ø**

### **–†–∏—Å–∫–∏:**
- ‚ùå **–°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** CrewAI —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
- ‚ùå **–ü—Ä–æ–±–ª–µ–º—ã —Å API** (Perplexity, –ì–∏–≥–∞–ß–∞—Ç)
- ‚ùå **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –º–Ω–æ–≥–æ–∞–≥–µ–Ω—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
- ‚ùå **–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** –±–æ–ª—å—à–µ –ø–ª–∞–Ω–∏—Ä—É–µ–º–æ–≥–æ

### **–ú–∏—Ç–æ–≥–∞—Ü–∏—è:**
- ‚úÖ **–ü–æ—ç—Ç–∞–ø–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
- ‚úÖ **Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- ‚úÖ **–ì–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫** —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏

---

## üìÖ **–ü–õ–ê–ù –†–ê–ë–û–¢–´**

### **–ù–µ–¥–µ–ª—è 1:**
- –≠—Ç–∞–ø 1-3: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞, –ë–î, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### **–ù–µ–¥–µ–ª—è 2:**
- –≠—Ç–∞–ø 4-5: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ API

### **–ù–µ–¥–µ–ª—è 3:**
- –≠—Ç–∞–ø 6-7: –ê–≥–µ–Ω—Ç—ã –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

### **–ù–µ–¥–µ–ª—è 4:**
- –≠—Ç–∞–ø 8-9: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### **–ù–µ–¥–µ–ª—è 5:**
- –≠—Ç–∞–ø 10-11: –ê–¥–º–∏–Ω–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–ù–µ–¥–µ–ª—è 6:**
- –≠—Ç–∞–ø 12: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

---

## üéâ **–û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´**

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ–ª—É—á–∏–º:

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- üöÄ **–ú–Ω–æ–≥–æ–∞–≥–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Å CrewAI
- üîß **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** –≤–º–µ—Å—Ç–æ –º–æ–Ω–æ–ª–∏—Ç–∞
- ü§ñ **4 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–∞**
- üìä **30 –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–Ω—Ç–µ—Ä–≤—å—é**

### **–ë–∏–∑–Ω–µ—Å-—É–ª—É—á—à–µ–Ω–∏—è:**
- ‚ö° **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ** –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úçÔ∏è **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞—è–≤–æ–∫** —Å –ø–æ–º–æ—â—å—é –ò–ò
- üîç **–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞** –∑–∞—è–≤–æ–∫
- üìà **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** —Å–∏—Å—Ç–µ–º—ã

---

**–ì–æ—Ç–æ–≤—ã –∫ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–º—É —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É? –ù–∞—á–∏–Ω–∞–µ–º —Å –≠—Ç–∞–ø–∞ 1!** üöÄ 