# SESSION CONTEXT: Expert Agent Architecture

**–î–∞—Ç–∞ —Å–µ—Å—Å–∏–∏:** 2025-10-17
**–ü—Ä–æ–µ–∫—Ç:** Expert Agent –¥–ª—è GrantService
**–≠—Ç–∞–ø:** –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üéØ –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏

–í —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏ –º—ã –æ–±—Å—É–∂–¥–∞–ª–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –Ω–æ–≤–æ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∞–≥–µ–Ω—Ç–∞ **Expert** –¥–ª—è —Å–∏—Å—Ç–µ–º—ã GrantService.

### –ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è:

–°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π AI-–∞–≥–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π:
- –•—Ä–∞–Ω–∏—Ç –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –≤ **PostgreSQL** (–≤–º–µ—Å—Ç–æ markdown —Ñ–∞–π–ª–æ–≤)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **–≤–µ–∫—Ç–æ—Ä–Ω—ã–µ embeddings** –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
- **–î–æ–æ–±—É—á–∞–µ—Ç** –¥—Ä—É–≥–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤ (Writer, Reviewer, Researcher, Interviewer)
- –°–∞–º –º–æ–∂–µ—Ç **–≤—ã–∑—ã–≤–∞—Ç—å Researcher** –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–≤–æ–µ–π –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
- –°–ª—É–∂–∏—Ç **–µ–¥–∏–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä–∞–≤–¥—ã** –æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö –≥—Ä–∞–Ω—Ç–æ–≤

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

–í—Å–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤: `C:\SnowWhiteAI\GrantService\00-Project-Stages\2025-10-17_Expert-Agent-Architecture/`

### 1. STATUS.md
**–ü—É—Ç—å:** `C:\SnowWhiteAI\GrantService\STATUS.md`

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ü–æ–ª–Ω—ã–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞
- 5-—ç—Ç–∞–ø–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∑–∞–¥–∞—á–∞–º
- –†–∏—Å–∫–∏ –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π —Å–µ—Å—Å–∏–∏

**–ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è:** –ü–æ–Ω–∏–º–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

---

### 2. Architecture.md
**–ü—É—Ç—å:** `01_Planning/architecture.md`

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∏ –º–æ—Ç–∏–≤–∞—Ü–∏—è Expert Agent
- High-level –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏
- –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã
- –î–µ—Ç–∞–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –∞–≥–µ–Ω—Ç–∞–º–∏
- Workflow –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**–ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è:** –ü–æ–Ω–∏–º–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –¥–∏–∑–∞–π–Ω–∞

---

### 3. Schema.sql
**–ü—É—Ç—å:** `02_Database-Design/schema.sql`

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ü–æ–ª–Ω–∞—è SQL —Å—Ö–µ–º–∞ –¥–ª—è PostgreSQL 14+
- 6 —Ç–∞–±–ª–∏—Ü:
  - `knowledge_sources` - –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∑–Ω–∞–Ω–∏–π
  - `knowledge_sections` - —Ä–∞–∑–¥–µ–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  - `successful_examples` - –ø—Ä–∏–º–µ—Ä—ã —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞—è–≤–æ–∫
  - `evaluation_criteria` - –∫—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏
  - `knowledge_embeddings` - –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ embeddings (pgvector)
  - `knowledge_updates` - –∏—Å—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –ò–Ω–¥–µ–∫—Å—ã (–≤–∫–ª—é—á–∞—è HNSW –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞)
- Views, functions, triggers
- Sample data –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è:** –°–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–≠—Ç–∞–ø 1)

---

### 4. expert_agent.py
**–ü—É—Ç—å:** `03_Implementation/expert_agent.py`

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ü–æ–ª–Ω—ã–π –∫–ª–∞—Å—Å `ExpertAgent` (600+ —Å—Ç—Ä–æ–∫)
- –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
  - `query_knowledge()` - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
  - `train_agent()` - –¥–æ–æ–±—É—á–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–æ–≤
  - `update_knowledge()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Researcher
  - `_vector_search()` - –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
  - `health_check()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
- –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è EmbeddingsService –∏ LLMClient
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ docstrings

**–ò—Å–ø–æ–ª—å–∑—É–π –¥–ª—è:** –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Expert Agent (–≠—Ç–∞–ø 3)

---

## üîÑ Workflow –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### Writer ‚Üí Expert
```
User: "–ù–∞–ø–∏—à–∏ —Ä–∞–∑–¥–µ–ª '–¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞'"
  ‚Üì
Writer: "–ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ü–µ–ª—è–º –¥–ª—è –§–ü–ì?" ‚Üí Expert
  ‚Üì
Expert: –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ ‚Üí 5 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
  ‚Üì
Expert ‚Üí Writer: –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (5-10 KB –≤–º–µ—Å—Ç–æ 329 KB)
  ‚Üì
Writer: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
  ‚Üì
User: –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—Å—Ç
```

### Expert ‚Üí Researcher (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–ó)
```
Cron Job: –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
  ‚Üì
Expert: "–û–±–Ω–æ–≤–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –§–ü–ì 2025"
  ‚Üì
Expert ‚Üí Researcher: "–°–æ–±–µ—Ä–∏ –Ω–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é"
  ‚Üì
Researcher: –ü–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–∞ ‚Üí –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ
  ‚Üì
Researcher ‚Üí Expert: "–í–æ—Ç –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ"
  ‚Üì
Expert: –í–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î ‚Üí Embeddings
```

---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|-----------|
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | PostgreSQL 14+ |
| –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ | pgvector 0.5+ |
| Backend | Python 3.11+ |
| Web Framework | FastAPI |
| DB Driver | asyncpg |
| Embeddings | ruBERT / sberGPT |
| LLM | GigaChat / OpenAI |
| Orchestration | n8n |

---

## üìã 5-—ç—Ç–∞–ø–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –≠—Ç–∞–ø 0: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ó–ê–í–ï–†–®–Å–ù)
- –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ SQL —Å—Ö–µ–º–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω Python –∫–æ–¥

### ‚è≥ –≠—Ç–∞–ø 1: Database Schema (—Å–ª–µ–¥—É—é—â–∏–π)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL 14+ –∏ pgvector
- –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é schema.sql
- –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### ‚è≥ –≠—Ç–∞–ø 2: Data Migration
- –ù–∞–ø–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ UNIFIED_KNOWLEDGE_BASE.md ‚Üí PostgreSQL
- –°–æ–∑–¥–∞—Ç—å embeddings –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
- –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ë–î
- –í–∞–ª–∏–¥–∞—Ü–∏—è: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π

### ‚è≥ –≠—Ç–∞–ø 3: Expert Agent Implementation
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ExpertAgent –∫–ª–∞—Å—Å
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å embeddings service (ruBERT)
- –°–æ–∑–¥–∞—Ç—å FastAPI endpoints
- –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã

### ‚è≥ –≠—Ç–∞–ø 4: Writer Integration
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å n8n workflow
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Writer —Å Expert
- A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò–∑–º–µ—Ä–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞

### ‚è≥ –≠—Ç–∞–ø 5: Full Integration
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Researcher
- –°–æ–∑–¥–∞—Ç—å Web Admin –ø–∞–Ω–µ–ª—å
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üîë –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è

1. **PostgreSQL + pgvector** –≤–º–µ—Å—Ç–æ markdown —Ñ–∞–π–ª–æ–≤
   - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
   - –í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ

2. **Expert –∫–∞–∫ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ö–∞–±** (–Ω–µ peer-–∞–≥–µ–Ω—Ç)
   - –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã
   - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
   - –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞

3. **–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Expert ‚Üî Researcher**
   - Expert –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - Researcher –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

4. **–í–µ–∫—Ç–æ—Ä–Ω—ã–µ embeddings –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞**
   - ruBERT –∏–ª–∏ sberGPT
   - 1536 –∏–∑–º–µ—Ä–µ–Ω–∏–π
   - Cosine similarity search

5. **5-—ç—Ç–∞–ø–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**
   - –ù–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç–æ–≥–æ (–ë–î)
   - –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

---

## üìä –¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ

### –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏:
**–§–∞–π–ª:** `C:\SnowWhiteAI\GrantService\fpg_docs_2025\UNIFIED_KNOWLEDGE_BASE.md`
**–†–∞–∑–º–µ—Ä:** 329 KB

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- 15 –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π —Å —Å–∞–π—Ç–∞ –§–ü–ì
- 10 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –æ—Ü–µ–Ω–∫–∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤
- 3 –ø—Ä–∏–º–µ—Ä–∞ —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞—è–≤–æ–∫ 2021 –≥–æ–¥–∞
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ —Å–æ–≤–µ—Ç—ã
- –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∑–∞—è–≤–∏—Ç–µ–ª–µ–π

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏:**
```
UNIFIED_KNOWLEDGE_BASE.md
  ‚Üí knowledge_sources (15 —Å—Ç–∞—Ç–µ–π)
    ‚Üí knowledge_sections (~100-150 —Ä–∞–∑–¥–µ–ª–æ–≤)
      ‚Üí knowledge_embeddings (–≤–µ–∫—Ç–æ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞)
  ‚Üí evaluation_criteria (10 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤)
  ‚Üí successful_examples (3 –ø—Ä–∏–º–µ—Ä–∞)
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

### –î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –≤ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏:

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç**
```
–ü—Ä–∏–≤–µ—Ç! –ü—Ä–æ—á–∏—Ç–∞–π C:\SnowWhiteAI\GrantService\STATUS.md
–∏ –ø—Ä–æ–¥–æ–ª–∂–∏ —Ä–∞–±–æ—Ç—É –Ω–∞–¥ Expert Agent Architecture.
–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø: —Å–æ–∑–¥–∞–Ω–∏–µ database schema (–≠—Ç–∞–ø 1)
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**
```
–ü—Ä–∏–≤–µ—Ç! –ü—Ä–æ—á–∏—Ç–∞–π —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:
1. C:\SnowWhiteAI\GrantService\STATUS.md
2. C:\SnowWhiteAI\GrantService\SESSION_CONTEXT_2025-10-17.md
3. C:\SnowWhiteAI\GrantService\00-Project-Stages\2025-10-17_Expert-Agent-Architecture\01_Planning\architecture.md

–ü—Ä–æ–¥–æ–ª–∂–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é Expert Agent —Å –≠—Ç–∞–ø–∞ 1:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL –∏ pgvector
- –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é schema.sql
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
```

---

## üí° –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–∞—á–∏–Ω–∞—Ç—å —Å –§–ü–ì —Ç–æ–ª—å–∫–æ:**
   –°–Ω–∞—á–∞–ª–∞ —Ä–µ–∞–ª–∏–∑—É–µ–º –¥–ª—è –§–æ–Ω–¥–∞ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏—Ö –≥—Ä–∞–Ω—Ç–æ–≤, –ø–æ—Ç–æ–º —Ä–∞—Å—à–∏—Ä–∏–º –Ω–∞ –¥—Ä—É–≥–∏–µ —Ñ–æ–Ω–¥—ã.

2. **Embeddings –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞:**
   –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ruBERT –∏ sberGPT, –≤—ã–±—Ä–∞—Ç—å –ª—É—á—à–∏–π –ø–æ quality/speed.

3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞:**
   Researcher –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–µ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ - –≤—Å–µ–≥–¥–∞ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.

4. **–í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å –ë–ó:**
   –•—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ `knowledge_updates` –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ rollback.

5. **A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Writer:**
   –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ—Ä–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º –Ω–∞ –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤.

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### MVP (–≠—Ç–∞–ø—ã 1-4):
- [x] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞
- [ ] Expert Agent —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã (accuracy 80%+)
- [ ] Writer –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Expert
- [ ] –ö–∞—á–µ—Å—Ç–≤–æ —Ç–µ–∫—Å—Ç–æ–≤ Writer —É–ª—É—á—à–∏–ª–æ—Å—å –Ω–∞ 20%+

### Full Product (–≠—Ç–∞–ø 5):
- [ ] –í—Å–µ 4 –∞–≥–µ–Ω—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- [ ] Researcher –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ë–ó
- [ ] Web Admin –ø–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–æ–Ω–¥–æ–≤

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –¢–µ–∫—É—â–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π:
- `fpg_docs_2025/UNIFIED_KNOWLEDGE_BASE.md` - 329 KB
- `fpg_docs_2025/KNOWLEDGE_BASE.md` - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- `fpg_docs_2025/knowledge_metadata.json` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

### –ê–≥–µ–Ω—Ç—ã:
- `.claude/agents/grant-architect.md` - –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä —Å–∏—Å—Ç–µ–º—ã
- `.claude/agents/` - –¥—Ä—É–≥–∏–µ –∞–≥–µ–Ω—Ç—ã (Writer, Reviewer, etc.)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `STATUS.md` - —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- `00-Project-Stages/2025-10-17_Expert-Agent-Architecture/` - –≤—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —ç—Ç–∞–ø–∞

---

## ü§ù –†–æ–ª–∏ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### Expert Agent:
- –•—Ä–∞–Ω–∏—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π
- –û–±—É—á–∞–µ—Ç –¥—Ä—É–≥–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤
- –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

### Researcher Agent:
- –°–æ–±–∏—Ä–∞–µ—Ç –Ω–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∑–∞–ø—Ä–æ—Å—É Expert
- –ü–∞—Ä—Å–∏—Ç —Å–∞–π—Ç—ã, –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç—ã
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç Expert –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### Writer Agent:
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç—ã –∑–∞—è–≤–æ–∫
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —É Expert
- –°–ª–µ–¥—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

### Reviewer Agent:
- –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –∑–∞—è–≤–∫–∏ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- –ü–æ–ª—É—á–∞–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ç Expert
- –î–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### Interviewer Agent:
- –°–æ–±–∏—Ä–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É Expert —Å–ø–∏—Å–æ–∫ required –ø–æ–ª–µ–π
- –ó–∞–¥–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏

| –†–∏—Å–∫ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-----------|
| –ö–∞—á–µ—Å—Ç–≤–æ ruBERT embeddings –Ω–∏–∑–∫–æ–µ | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–¥–µ–ª–µ–π, fallback –Ω–∞ OpenAI |
| –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –º–µ–¥–ª–µ–Ω–Ω—ã–π | HNSW –∏–Ω–¥–µ–∫—Å—ã, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ |
| Researcher –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é | –£–ª—É—á—à–∏—Ç—å –ø–∞—Ä—Å–µ—Ä—ã, API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è |
| –ë–î —Ä–∞—Å—Ç–µ—Ç —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ | –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π |

---

## üéâ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏

‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Expert Agent
‚úÖ –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ SQL —Å—Ö–µ–º–∞ (6 —Ç–∞–±–ª–∏—Ü)
‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Python –∫–ª–∞—Å—Å ExpertAgent (600+ —Å—Ç—Ä–æ–∫)
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ workflow –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–º—è—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π —Å–µ—Å—Å–∏–∏

**–¢–æ–∫–µ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ:** ~71k / 200k (35.5%)
**–¢–æ–∫–µ–Ω–æ–≤ –æ—Å—Ç–∞–ª–æ—Å—å:** ~129k (64.5%)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-10-17
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-17

üöÄ **READY FOR IMPLEMENTATION!**
