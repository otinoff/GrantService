#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ GrantService –≤ Qdrant –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
"""
import requests
import uuid

QDRANT_HOST = "5.35.88.251"
QDRANT_PORT = 6333
COLLECTION_NAME = "knowledge_sections"

print("=" * 80)
print("–î–û–ë–ê–í–õ–ï–ù–ò–ï –§–ò–õ–û–°–û–§–ò–ò –ü–†–û–ï–ö–¢–ê GRANTSERVICE –í QDRANT")
print("=" * 80)

# Load model
try:
    from sentence_transformers import SentenceTransformer
    print("\n[1/3] –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏...")
    model = SentenceTransformer("sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2")
    print("      ‚úÖ –ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω–∞")
except Exception as e:
    print(f"\n‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏: {e}")
    exit(1)

# Project philosophy content - –∫–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤
philosophy_sections = [
    {
        "section_name": "–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞ GrantService: –ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è",
        "content": """GrantService - —ç—Ç–æ –∫–æ–Ω–≤–µ–π–µ—Ä –∫–∞—á–µ—Å—Ç–≤–∞, –ø—Ä–µ–≤—Ä–∞—â–∞—é—â–∏–π —Å—ã—Ä—É—é –∏–¥–µ—é –≤ –≥–æ—Ç–æ–≤—É—é –≥—Ä–∞–Ω—Ç–æ–≤—É—é –∑–∞—è–≤–∫—É.

–ß–µ–ª–æ–≤–µ–∫ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å –∏–¥–µ–µ–π - —Ö–∞–æ—Ç–∏—á–Ω–æ–π, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π, –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π, –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä—ã–Ω–∫–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.
–§–æ–Ω–¥ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏—Ö –≥—Ä–∞–Ω—Ç–æ–≤ (–§–ü–ì) —Ç—Ä–µ–±—É–µ—Ç –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–æ–π –±–∞–∑—ã, –∑–Ω–∞–Ω–∏—è —Ä—ã–Ω–∫–∞, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞—è–≤–∫–∏, –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –±—é–¥–∂–µ—Ç–∞.

–ó–∞–¥–∞—á–∞ GrantService: –ü—Ä–æ–π—Ç–∏ —Å —á–µ–ª–æ–≤–µ–∫–æ–º –≤–µ—Å—å –ø—É—Ç—å –æ—Ç –∏–¥–µ–∏ –¥–æ –≥–æ—Ç–æ–≤–æ–π –∑–∞—è–≤–∫–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ü–µ.

–ö–æ–Ω–≤–µ–π–µ—Ä: –ò–î–ï–Ø ‚Üí –ò–ù–¢–ï–†–í–¨–Æ+–ê–£–î–ò–¢ ‚Üí RESEARCH ‚Üí WRITING ‚Üí REVIEW ‚Üí –ì–û–¢–û–í–ê–Ø –ó–ê–Ø–í–ö–ê"""
    },
    {
        "section_name": "–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞: –ö–∞—á–µ—Å—Ç–≤–æ –ø–æ —Ö–æ–¥—É, –Ω–µ –≤ –∫–æ–Ω—Ü–µ",
        "content": """–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø GrantService: –ù–µ "—Å–¥–µ–ª–∞–ª ‚Üí –ø—Ä–æ–≤–µ—Ä–∏–ª", –∞ "–¥–µ–ª–∞—é ‚Üí –ø—Ä–æ–≤–µ—Ä—è—é –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ"

–î—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã:
–°–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ ‚Üí –ù–∞–ø–∏—Å–∞—Ç—å –∑–∞—è–≤–∫—É ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ‚Üí –û–±–Ω–∞—Ä—É–∂–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã ‚Üí –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å
–ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∑–Ω–∞–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ü–û–°–õ–ï —Ç–æ–≥–æ –∫–∞–∫ –ø–æ—Ç—Ä–∞—Ç–∏–ª –≤—Ä–µ–º—è.

GrantService:
–ë–ª–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ ‚Üí –ê—É–¥–∏—Ç ‚Üí –£—Ç–æ—á–Ω–µ–Ω–∏—è ‚Üí –°–ª–µ–¥—É—é—â–∏–π –±–ª–æ–∫
Research ‚Üí Writing —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º ‚Üí Review ‚Üí –ì–æ—Ç–æ–≤–æ
–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: –ö–∞—á–µ—Å—Ç–≤–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –ü–û –•–û–î–£, –∞ –Ω–µ –≤ –∫–æ–Ω—Ü–µ.

–ü–æ—á–µ–º—É: 70% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±—Ä–æ—Å–∞—é—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ —ç—Ç–∞–ø–µ –ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞–Ω–∏—è. –ï—Å–ª–∏ –∫–∞—á–µ—Å—Ç–≤–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –ø–æ —Ö–æ–¥—É - –ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ."""
    },
    {
        "section_name": "–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞: –≠–¢–ê–ü 1 - –ò–Ω—Ç–µ—Ä–≤—å—é –∏ –ê—É–¥–∏—Ç",
        "content": """–≠–¢–ê–ü 1: –ò–ù–¢–ï–†–í–¨–Æ + –ê–£–î–ò–¢ - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–¥–µ–∏

–§–∏–ª–æ—Å–æ—Ñ–∏—è: –ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —Ö–∞–æ—Å –∏–¥–µ–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∞–Ω–∫–µ—Ç—É, –ø—Ä–æ–≤–µ—Ä—è—è –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ —Ö–æ–¥—É.

–ü—Ä–æ—Ü–µ—Å—Å:
1. InterviewerAgent –∑–∞–¥–∞–µ—Ç 15 –≤–æ–ø—Ä–æ—Å–æ–≤ (3 –±–ª–æ–∫–∞ –ø–æ 5)
2. –ê–£–î–ò–¢ –ü–û–°–õ–ï –ö–ê–ñ–î–û–ì–û –ë–õ–û–ö–ê - –Ω–µ –≤ –∫–æ–Ω—Ü–µ!
3. –£–¢–û–ß–ù–Ø–Æ–©–ò–ï –í–û–ü–†–û–°–´ –°–†–ê–ó–£ - –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–∞–±–æ, —É—Ç–æ—á–Ω—è–µ–º —Å–µ–π—á–∞—Å
4. –†–µ–∑—É–ª—å—Ç–∞—Ç: –ê–Ω–∫–µ—Ç–∞ (24 –ø–æ–ª—è) + Audit Score (0-100)

–ü—Ä–∏–Ω—Ü–∏–ø—ã:
- –ù–µ –¥–æ–ø—Ä–æ—Å—á–∏–∫, –∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç - –ø–æ–º–æ–≥–∞–µ–º —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å
- –ê–Ω–∞–ª–∏–∑ = –ê—É–¥–∏—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ - –Ω–µ –∂–¥–µ–º –∫–æ–Ω—Ü–∞
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –§–ü–ì - –≤–æ–ø—Ä–æ—Å—ã —É—á–∏—Ç—ã–≤–∞—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Ñ–æ–Ω–¥–∞ (Qdrant)

–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞: –ö–∞—á–µ—Å—Ç–≤–æ ‚â•65/100, –ó–∞–≤–µ—Ä—à–∞–µ–º–æ—Å—Ç—å 70%, UX 3/5 ‚Üí 4.5/5 (—Ü–µ–ª—å)"""
    },
    {
        "section_name": "–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞: –≠–¢–ê–ü 2 - Research –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞",
        "content": """–≠–¢–ê–ü 2: RESEARCH - –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞

–§–∏–ª–æ—Å–æ—Ñ–∏—è: –ò–¥–µ—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ –≤ –≤–∞–∫—É—É–º–µ - –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –º–∏—Ä–∞.

ResearcherAgent –¥–µ–ª–∞–µ—Ç 27 —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã—Ö WebSearch –∑–∞–ø—Ä–æ—Å–æ–≤:
- 10 –ø—Ä–æ—Ñ–∏–ª—å–Ω—ã—Ö: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∫–µ–π—Å—ã, –≥–æ—Å–ø—Ä–æ–≥—Ä–∞–º–º—ã, –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è –±–∞–∑–∞
- 10 –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö: –ø—Ä–æ–±–ª–µ–º—ã –∞—É–¥–∏—Ç–æ—Ä–∏–∏, –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å, —ç–∫–æ–Ω–æ–º–∏–∫–∞
- 7 —Ü–µ–ª–µ–≤—ã—Ö: –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –±—é–¥–∂–µ—Ç –∞–Ω–∞–ª–æ–≥–æ–≤, –ø–∞—Ä—Ç–Ω–µ—Ä—ã, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã
- +1 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π: —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –§–ü–ì –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

–†–µ–∑—É–ª—å—Ç–∞—Ç: 117+ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å —Ü–∏—Ç–∞—Ç–∞–º–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∫–µ–π—Å—ã, –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è –±–∞–∑–∞.

–ü—Ä–∏–Ω—Ü–∏–ø—ã:
- –î–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–∞—è –±–∞–∑–∞ - –∫–∞–∂–¥–æ–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç –≥–æ—Å—Å—Ç—Ä—É–∫—Ç—É—Ä
- –ö–æ–Ω—Ç–µ–∫—Å—Ç —ç–∫–æ–Ω–æ–º–∏–∫–∏ –∏ –æ–±—â–µ—Å—Ç–≤–∞ - —Ä–µ–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–≥–∏–æ–Ω–µ
- –ó–Ω–∞–Ω–∏–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ - –∫—Ç–æ —É–∂–µ –¥–µ–ª–∞–µ—Ç, —Å –∫–µ–º –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å—Å—è

–ó–∞—á–µ–º: –§–ü–ì –Ω–µ –¥–∞—Å—Ç –¥–µ–Ω—å–≥–∏ –ø—Ä–æ–µ–∫—Ç—É –±–µ–∑ –∑–Ω–∞–Ω–∏—è —Ä—ã–Ω–∫–∞, –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏."""
    },
    {
        "section_name": "–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞: –≠–¢–ê–ü 3 - Writing –∏ —Å–∏–Ω—Ç–µ–∑",
        "content": """–≠–¢–ê–ü 3: WRITING - –°–∏–Ω—Ç–µ–∑ –∏–¥–µ–∏ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

–§–∏–ª–æ—Å–æ—Ñ–∏—è: –ó–∞—è–≤–∫–∞ = –ò–¥–µ—è + –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞, –∏–∑–ª–æ–∂–µ–Ω–Ω—ã–µ —è–∑—ã–∫–æ–º —Ñ–æ–Ω–¥–∞.

WriterAgent –ø–æ–ª—É—á–∞–µ—Ç:
- –ê–Ω–∫–µ—Ç—É (24 –ø–æ–ª—è) - –ß–¢–û —á–µ–ª–æ–≤–µ–∫ —Ö–æ—á–µ—Ç —Å–¥–µ–ª–∞—Ç—å
- Research results (27 –±–ª–æ–∫–æ–≤) - –ß–¢–û –≥–æ–≤–æ—Ä–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–π –º–∏—Ä
- Audit recommendations - –ß–¢–û –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

WriterAgent –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 9 —Ä–∞–∑–¥–µ–ª–æ–≤ –∑–∞—è–≤–∫–∏ (—Ñ–æ—Ä–º–∞ –§–ü–ì) —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏:
- –ú–∏–Ω–∏–º—É–º 10 —Ü–∏—Ç–∞—Ç –∏–∑ research (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏)
- –ú–∏–Ω–∏–º—É–º 2 —Ç–∞–±–ª–∏—Ü—ã (–ø–ª–∞–Ω-–≥—Ä–∞—Ñ–∏–∫, –±—é–¥–∂–µ—Ç)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–µ–≥–∏–æ–Ω—É/—Ç–µ–º–µ
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–∏—Ñ—Ä—ã (–Ω–µ "–º–Ω–æ–≥–æ –¥–µ—Ç–µ–π", –∞ "500+ –¥–µ—Ç–µ–π")

–ü—Ä–∏–Ω—Ü–∏–ø—ã:
- –ù–µ –ø—Ä–∏–¥—É–º—ã–≤–∞—Ç—å, –∞ —Å–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞—Ç—å - –≤—Å–µ –µ—Å—Ç—å –≤ –∞–Ω–∫–µ—Ç–µ –∏ research
- –Ø–∑—ã–∫ —Ñ–æ–Ω–¥–∞ - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–π; —Ñ–∞–∫—Ç—ã –≤–º–µ—Å—Ç–æ —ç–º–æ—Ü–∏–π
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–æ–Ω–¥–∞ - 9 —Ä–∞–∑–¥–µ–ª–æ–≤ –ø–æ —Ñ–æ—Ä–º–µ –§–ü–ì
- –î–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å - –∫–∞–∂–¥–æ–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–æ —Ü–∏—Ç–∞—Ç–æ–π

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ì—Ä–∞–Ω—Ç–æ–≤–∞—è –∑–∞—è–≤–∫–∞ 15000-20000 —Å–∏–º–≤–æ–ª–æ–≤, –≥–æ—Ç–æ–≤–∞—è –∫ –ø–æ–¥–∞—á–µ."""
    },
    {
        "section_name": "–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞: –≠–¢–ê–ü 4 - Review –∏ —Ä–µ—Ñ–ª–µ–∫—Å–∏—è",
        "content": """–≠–¢–ê–ü 4: REVIEW - –†–µ—Ñ–ª–µ–∫—Å–∏—è –æ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞—Ö

–§–∏–ª–æ—Å–æ—Ñ–∏—è: –ß–µ—Å—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —à–∞–Ω—Å–æ–≤ –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é.

ReviewerAgent –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –∑–∞—è–≤–∫—É –ø–æ 4 –∫—Ä–∏—Ç–µ—Ä–∏—è–º:
1. –î–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–∞—è –±–∞–∑–∞ (40%) - —Ü–∏—Ç–∞—Ç—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∏—Å—Ç–æ—á–Ω–∏–∫–∏
2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ø–æ–ª–Ω–æ—Ç–∞ (30%) - –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã, –ª–æ–≥–∏–∫–∞, –Ω–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π
3. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω—ã–π –º–∞—Ç—á–∏–Ω–≥ (20%) - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –§–ü–ì
4. –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ (10%) - —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç—å –±—é–¥–∂–µ—Ç–∞

–†–∞—Å—á–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –æ–¥–æ–±—Ä–µ–Ω–∏—è:
Approval Probability = 15% + (Weighted Score * 4.375%)
–î–∏–∞–ø–∞–∑–æ–Ω: 15% (–º–∏–Ω–∏–º—É–º) - 50% (–º–∞–∫—Å–∏–º—É–º)

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- Weighted score (0-10)
- Approval probability (15-50%)
- –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã, —Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø–æ–¥–∞—á–µ (yes/no)

–ü—Ä–∏–Ω—Ü–∏–ø—ã:
- –ß–µ—Å—Ç–Ω–æ—Å—Ç—å - –≥–æ–≤–æ—Ä–∏—Ç—å –ø—Ä–∞–≤–¥—É –æ —à–∞–Ω—Å–∞—Ö
- –ö–æ–Ω–∫—Ä–µ—Ç–∏–∫–∞ - –Ω–µ "–ø–ª–æ—Ö–æ–π –±—é–¥–∂–µ—Ç", –∞ "—Å—Ç–∞—Ç—å—è X –∑–∞–≤—ã—à–µ–Ω–∞ –Ω–∞ 30%"
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è - —á—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –°–ï–ô–ß–ê–° vs —á—Ç–æ –º–æ–∂–Ω–æ –ø–æ—Ç–æ–º
- –†–µ—Ñ–ª–µ–∫—Å–∏—è - –ø–æ–º–æ—á—å –ø–æ–Ω—è—Ç—å –ü–û–ß–ï–ú–£ –∑–∞—è–≤–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞"""
    },
    {
        "section_name": "–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞: –î–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–∞—è –±–∞–∑–∞ - –æ—Å–Ω–æ–≤–∞ –∑–∞—è–≤–∫–∏",
        "content": """–ü—Ä–∏–Ω—Ü–∏–ø: –ö–∞–∂–¥–æ–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ = —Ü–∏—Ç–∞—Ç–∞ –∏–ª–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ù–ï –¢–ê–ö: "–í —Ä–µ–≥–∏–æ–Ω–µ –º–Ω–æ–≥–æ –¥–µ—Ç–µ–π –Ω–µ –∑–∞–Ω–∏–º–∞—é—Ç—Å—è —Å–ø–æ—Ä—Ç–æ–º"

–¢–ê–ö: "–ü–æ –¥–∞–Ω–Ω—ã–º –†–æ—Å—Å—Ç–∞—Ç–∞ 2024, –≤ –ö–µ–º–µ—Ä–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ 23% –¥–µ—Ç–µ–π (–æ–∫–æ–ª–æ 15000 —á–µ–ª–æ–≤–µ–∫) –Ω–µ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–º —Å–µ–∫—Ü–∏—è–º [–∏—Å—Ç–æ—á–Ω–∏–∫: rosstat.gov.ru/sport-2024]"

–ü–æ—á–µ–º—É: –§–æ–Ω–¥ –Ω–µ –≤–µ—Ä–∏—Ç –Ω–∞ —Å–ª–æ–≤–æ. –ù—É–∂–Ω—ã –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

–ö–∞–∫ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è:
- –≠–¢–ê–ü 2 (Research): —Å–æ–±–∏—Ä–∞–µ–º 117+ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å —Ü–∏—Ç–∞—Ç–∞–º–∏
- –≠–¢–ê–ü 3 (Writing): –≤–ø–ª–µ—Ç–∞–µ–º –º–∏–Ω–∏–º—É–º 10 —Ü–∏—Ç–∞—Ç –≤ –∑–∞—è–≤–∫—É
- –≠–¢–ê–ü 4 (Review): –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω—É—é –±–∞–∑—É (40% –æ—Ç –æ—Ü–µ–Ω–∫–∏)

Research –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç "—è —Ö–æ—á—É –ø–æ–º–æ—á—å –¥–µ—Ç—è–º" –≤ "–ø–æ –¥–∞–Ω–Ω—ã–º –†–æ—Å—Å—Ç–∞—Ç–∞ 2024, –≤ –ö–µ–º–µ—Ä–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ 23% –¥–µ—Ç–µ–π –Ω–µ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–º —Å–µ–∫—Ü–∏—è–º"."""
    },
    {
        "section_name": "–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞: –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞",
        "content": """–ü—Ä–∏–Ω—Ü–∏–ø: –ò–¥–µ—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–ø–∏—Å–∞–Ω–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å

–ö–æ–Ω—Ç–µ–∫—Å—Ç –≤–∫–ª—é—á–∞–µ—Ç:
- –≠–∫–æ–Ω–æ–º–∏–∫—É —Ä–µ–≥–∏–æ–Ω–∞
- –ó–∞–ø—Ä–æ—Å—ã –æ–±—â–µ—Å—Ç–≤–∞
- –ì–æ—Å–ø—Ä–æ–≥—Ä–∞–º–º—ã
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –∏ –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤

–ù–ï –¢–ê–ö: "–ú—ã —Ö–æ—Ç–∏–º –æ—Ç–∫—Ä—ã—Ç—å –∫–ª—É–±, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞–º –Ω—Ä–∞–≤–∏—Ç—Å—è —Å—Ç—Ä–µ–ª—å–±–∞ –∏–∑ –ª—É–∫–∞"

–¢–ê–ö: "–í —Ä–∞–º–∫–∞—Ö –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ '–°–ø–æ—Ä—Ç - –Ω–æ—Ä–º–∞ –∂–∏–∑–Ω–∏' –∏ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã '–†–∞–∑–≤–∏—Ç–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã', –Ω–∞—à –ø—Ä–æ–µ–∫—Ç –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ñ–∏—Ü–∏—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º –≤–∏–¥–∞–º —Å–ø–æ—Ä—Ç–∞, –≤—ã—è–≤–ª–µ–Ω–Ω—ã–π –≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –ù–ò–£ –í–®–≠ (2024)"

–ü–æ—á–µ–º—É: –§–æ–Ω–¥ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä—É–µ—Ç –ø—Ä–æ–µ–∫—Ç—ã, —Ä–µ—à–∞—é—â–∏–µ –†–ï–ê–õ–¨–ù–´–ï –ø—Ä–æ–±–ª–µ–º—ã, –∞ –Ω–µ —Ö–æ–±–±–∏.

–ö–∞–∫ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è:
- –≠–¢–ê–ü 2 (Research): 27 –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–æ —ç–∫–æ–Ω–æ–º–∏–∫—É, –æ–±—â–µ—Å—Ç–≤–æ, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤, –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
- –≠–¢–ê–ü 3 (Writing): –≤–ø–ª–µ—Ç–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏
- –≠–¢–ê–ü 4 (Review): –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω—ã–π –º–∞—Ç—á–∏–Ω–≥ (20% –æ—Ç –æ—Ü–µ–Ω–∫–∏)"""
    },
    {
        "section_name": "–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞: –ö–æ–Ω–≤–µ–π–µ—Ä –∞–≥–µ–Ω—Ç–æ–≤ = –∫–æ–Ω–≤–µ–π–µ—Ä –∫–∞—á–µ—Å—Ç–≤–∞",
        "content": """–ü—Ä–∏–Ω—Ü–∏–ø: –ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç - —ç–∫—Å–ø–µ—Ä—Ç –≤ —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç–∏

–†–æ–ª–∏ –∞–≥–µ–Ω—Ç–æ–≤:
- Interviewer: –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç - –ø–æ–º–æ—á—å —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∏–¥–µ—é
- Auditor: –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä –∫–∞—á–µ—Å—Ç–≤–∞ - –Ω–∞–π—Ç–∏ —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞ –°–ï–ô–ß–ê–°
- Researcher: –ê–Ω–∞–ª–∏—Ç–∏–∫ —Ä—ã–Ω–∫–∞ - —Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–∏—Ä–∞
- Writer: –°–æ—Å—Ç–∞–≤–∏—Ç–µ–ª—å –∑–∞—è–≤–∫–∏ - —Å–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞—Ç—å –∏–¥–µ—é + –∫–æ–Ω—Ç–µ–∫—Å—Ç
- Reviewer: –≠–∫—Å–ø–µ—Ä—Ç —Ñ–æ–Ω–¥–∞ - –æ—Ü–µ–Ω–∏—Ç—å —à–∞–Ω—Å—ã –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ

–ü–æ—á–µ–º—É –∫–æ–Ω–≤–µ–π–µ—Ä:
–û–¥–∏–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —ç–∫—Å–ø–µ—Ä—Ç–æ–º –≤–æ –≤—Å–µ–º.
–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è = –∫–∞—á–µ—Å—Ç–≤–æ.

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ:
Interviewer ‚Üí –ø–µ—Ä–µ–¥–∞–µ—Ç –∞–Ω–∫–µ—Ç—É ‚Üí Researcher
Researcher ‚Üí –ø–µ—Ä–µ–¥–∞–µ—Ç research ‚Üí Writer
Writer ‚Üí –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–∞—è–≤–∫—É ‚Üí Reviewer
Auditor ‚Üí –≤—Å—Ç—Ä–æ–µ–Ω –≤ Interviewer, –¥–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –ü–û –•–û–î–£

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ö–∞—á–µ—Å—Ç–≤–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ."""
    },
    {
        "section_name": "–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞: –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∏ —á–µ—Å—Ç–Ω–æ—Å—Ç—å",
        "content": """–ü—Ä–∏–Ω—Ü–∏–ø: –ì–æ–≤–æ—Ä–∏–º –ø—Ä–∞–≤–¥—É –æ —à–∞–Ω—Å–∞—Ö

–ß–µ—Å—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞:
- –ï—Å–ª–∏ –∑–∞—è–≤–∫–∞ —Å–ª–∞–±–∞—è ‚Üí "20% —à–∞–Ω—Å–æ–≤, –¥–æ—Ä–∞–±–æ—Ç–∞–π—Ç–µ X, Y, Z"
- –ï—Å–ª–∏ –∑–∞—è–≤–∫–∞ —Å–∏–ª—å–Ω–∞—è ‚Üí "45% —à–∞–Ω—Å–æ–≤, –º–æ–∂–Ω–æ –ø–æ–¥–∞–≤–∞—Ç—å"

–ù–ï –æ–±–µ—â–∞–µ–º "100% –æ–¥–æ–±—Ä–µ–Ω–∏–µ" - —Ñ–æ–Ω–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ —Å–∞–º.

–ü–æ—á–µ–º—É —á–µ—Å—Ç–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞:
- –î–æ–≤–µ—Ä–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–∞–∂–Ω–µ–µ –∫—Ä–∞—Å–∏–≤—ã—Ö –æ–±–µ—â–∞–Ω–∏–π
- –õ—É—á—à–µ —É–∑–Ω–∞—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –î–û –ø–æ–¥–∞—á–∏, —á–µ–º –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–∫–∞–∑
- Review –¥–∞–µ—Ç –≤—ã–±–æ—Ä: –ø–æ–¥–∞—Ç—å —Å–µ–π—á–∞—Å –∏–ª–∏ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å

–ö–∞–∫ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è:
- –≠–¢–ê–ü 4 (Review): —Ä–∞—Å—á–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –æ–¥–æ–±—Ä–µ–Ω–∏—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ
- –î–∏–∞–ø–∞–∑–æ–Ω 15-50% (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π, –Ω–µ –∑–∞–≤—ã—à–µ–Ω–Ω—ã–π)
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è: —á—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ, —á—Ç–æ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ"""
    }
]

print(f"\n[2/3] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è {len(philosophy_sections)} —Ä–∞–∑–¥–µ–ª–æ–≤...")

# Add sections to Qdrant
points = []
for idx, section in enumerate(philosophy_sections):
    # Generate embedding
    content = section['content']
    embedding = model.encode(content, convert_to_tensor=False)

    # Create point
    point = {
        "id": str(uuid.uuid4()),
        "vector": embedding.tolist(),
        "payload": {
            "section_name": section['section_name'],
            "content": content,
            "source": "GRANTSERVICE_PROJECT_PHILOSOPHY.md",
            "type": "project_philosophy",
            "priority": "P0"  # –ö—Ä–∏—Ç–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        }
    }
    points.append(point)
    print(f"   ‚úÖ {idx+1}/{len(philosophy_sections)}: {section['section_name'][:60]}...")

print(f"\n[3/3] –ó–∞–≥—Ä—É–∑–∫–∞ –≤ Qdrant ({QDRANT_HOST}:{QDRANT_PORT})...")

# Upload to Qdrant
response = requests.put(
    f"http://{QDRANT_HOST}:{QDRANT_PORT}/collections/{COLLECTION_NAME}/points",
    json={
        "points": points
    }
)

if response.status_code == 200:
    print(f"\n‚úÖ –£—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ {len(points)} —Ä–∞–∑–¥–µ–ª–æ–≤ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞!")

    # Get updated stats
    response = requests.get(f"http://{QDRANT_HOST}:{QDRANT_PORT}/collections/{COLLECTION_NAME}")
    if response.status_code == 200:
        data = response.json()
        result = data.get('result', {})
        total_points = result.get('points_count', 0)

        print(f"\nüìä –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:")
        print(f"   ‚Ä¢ –í—Å–µ–≥–æ —Ä–∞–∑–¥–µ–ª–æ–≤ –≤ –ë–î: {total_points}")
        print(f"   ‚Ä¢ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –§–ü–ì: 31")
        print(f"   ‚Ä¢ –§–∏–ª–æ—Å–æ—Ñ–∏—è –∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä–∞: 5")
        print(f"   ‚Ä¢ –§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ–µ–∫—Ç–∞: {len(points)}")
        print(f"   ‚Ä¢ –°—Ç–∞—Ç—É—Å: {result.get('status', 'unknown')}")
else:
    print(f"\n‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: {response.status_code}")
    print(response.text)

print("\n" + "=" * 80)
print("–§–ò–õ–û–°–û–§–ò–Ø –ü–†–û–ï–ö–¢–ê –î–û–ë–ê–í–õ–ï–ù–ê –í –ë–ê–ó–£ –ó–ù–ê–ù–ò–ô")
print("–¢–µ–ø–µ—Ä—å –≤—Å–µ –∞–≥–µ–Ω—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã GrantService!")
print("=" * 80)
