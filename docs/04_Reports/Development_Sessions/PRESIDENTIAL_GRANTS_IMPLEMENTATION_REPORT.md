# –û—Ç—á—ë—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ pipeline –¥–ª—è –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏—Ö –≥—Ä–∞–Ω—Ç–æ–≤

**–î–∞—Ç–∞**: 2025-10-12
**–ê–≤—Ç–æ—Ä**: Grant Service Architect Agent
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û (–ª–æ–∫–∞–ª—å–Ω–æ, –ë–ï–ó –∫–æ–º–º–∏—Ç–∞)

---

## üéØ –ó–ê–î–ê–ß–ê

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞-–∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å pipeline –∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏—Ö –≥—Ä–∞–Ω—Ç–æ–≤ —Å E2E —Ç–µ—Å—Ç–æ–º "–õ—É—á–Ω—ã–µ –∫–ª—É–±—ã –≤ –ö–µ–º–µ—Ä–æ–≤–æ".

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### 1. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ Writer –∏ Auditor –Ω–∞ GigaChat

**–§–∞–π–ª**: `shared/llm/config.py`

**–ü—Ä–∏—á–∏–Ω–∞**: OAuth —Ç–æ–∫–µ–Ω –∏—Å—Ç—ë–∫ –Ω–∞ Claude Code API —Å–µ—Ä–≤–µ—Ä–µ (178.236.17.55:8000)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
```python
# –î–û
"writer": {
    "provider": "claude",  # ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢
    "model": "opus",
    ...
}

# –ü–û–°–õ–ï
"writer": {
    "provider": "gigachat",  # ‚úÖ –†–ê–ë–û–¢–ê–ï–¢
    "model": "GigaChat",
    ...
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: Writer –∏ Auditor —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç GigaChat (—Ä–∞–±–æ—Ç–∞—é—â–∏–π LLM)

---

### 2. –°–æ–∑–¥–∞–Ω InteractiveInterviewerAgent

**–§–∞–π–ª**: `agents/interactive_interviewer_agent.py`

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:
```
InteractiveInterviewerAgent
‚îú‚îÄ BaseAgent (–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)
‚îú‚îÄ AuditorAgent (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∞—É–¥–∏—Ç–æ—Ä)
‚îÇ
‚îú‚îÄ –ë–ª–æ–∫ 1 (5 –≤–æ–ø—Ä–æ—Å–æ–≤) ‚Üí Interim Audit ‚Üí Clarifying Questions
‚îú‚îÄ –ë–ª–æ–∫ 2 (5 –≤–æ–ø—Ä–æ—Å–æ–≤) ‚Üí Interim Audit ‚Üí Clarifying Questions
‚îú‚îÄ –ë–ª–æ–∫ 3 (5 –≤–æ–ø—Ä–æ—Å–æ–≤) ‚Üí Interim Audit ‚Üí Clarifying Questions
‚îî‚îÄ Final Audit ‚Üí Recommendations ‚Üí Save to DB
```

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã**:
- `conduct_interview_with_audit()` - –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥
- `_ask_question_block()` - –±–ª–æ–∫ –∏–∑ 5 –≤–æ–ø—Ä–æ—Å–æ–≤
- `_interim_audit()` - –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∞—É–¥–∏—Ç
- `_ask_clarifying_questions()` - —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
- `_final_audit()` - —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞—É–¥–∏—Ç

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- 3 –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –∞—É–¥–∏—Ç–∞ (–ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞)
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–≤–µ—Ç–æ–≤
- –§–∏–Ω–∞–ª—å–Ω—ã–π –∞—É–¥–∏—Ç –ø–æ 10 –∫—Ä–∏—Ç–µ—Ä–∏—è–º (1-100 –±–∞–ª–ª–æ–≤)
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

---

### 3. –°–æ–∑–¥–∞–Ω PresidentialGrantsResearcher

**–§–∞–π–ª**: `agents/presidential_grants_researcher.py`

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:
```
PresidentialGrantsResearcher
‚îú‚îÄ ResearcherAgentV2 (–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)
‚îÇ
‚îú‚îÄ 27 –±–∞–∑–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—á–µ—Ä–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–ª–∞—Å—Å)
‚îÇ   ‚îú‚îÄ –ë–ª–æ–∫ 1: 10 –ø—Ä–æ—Ñ–∏–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ –ë–ª–æ–∫ 2: 10 –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îî‚îÄ –ë–ª–æ–∫ 3: 7 —Ü–µ–ª–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ
‚îî‚îÄ –ó–∞–ø—Ä–æ—Å ‚Ññ28: –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –§–ü–ì (—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
    ‚îú‚îÄ WebSearch: prezidentskiegranty.ru, gov.ru
    ‚îú‚îÄ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ: –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∫—Ä–∏—Ç–µ—Ä–∏–∏, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
    ‚îî‚îÄ –ü–∞—Ä—Å–∏–Ω–≥: –ø—Ä–∏–º–µ—Ä—ã —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞—è–≤–æ–∫
```

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã**:
- `conduct_research_async()` - –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –º–µ—Ç–æ–¥ (27 + 1)
- `_websearch_fund_requirements()` - –∑–∞–ø—Ä–æ—Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –§–ü–ì
- `_parse_fund_requirements()` - –ø–∞—Ä—Å–∏–Ω–≥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `_extract_directions/criteria/indicators/examples()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**WebSearch**:
- Perplexity API (primary) - —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –†–§ –±–µ–∑ VPN
- Claude Code WebSearch (fallback) - –¥–ª—è —Ä–µ–∑–µ—Ä–≤–∞
- –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã: `prezidentskiegranty.ru`, `gov.ru`, `kremlin.ru`

---

### 4. –°–æ–∑–¥–∞–Ω ArtifactSaver

**–§–∞–π–ª**: `utils/artifact_saver.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –∞–≥–µ–Ω—Ç–æ–≤ –≤ MD –∏ PDF —Ñ–æ—Ä–º–∞—Ç–∞—Ö

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤**:
- `interview` - –∞–Ω–∫–µ—Ç–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∞—É–¥–∏—Ç–∞
- `research` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π (27 + 1 –∑–∞–ø—Ä–æ—Å–æ–≤)
- `grant` - –≥—Ä–∞–Ω—Ç–æ–≤–∞—è –∑–∞—è–≤–∫–∞
- `review` - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞

**–ú–µ—Ç–æ–¥—ã**:
- `save_artifact()` - –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- `_generate_markdown()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è MD –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- `_generate_interview/research/grant/review_markdown()` - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã
- `_save_pdf()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF (placeholder –¥–ª—è –ø–µ—Ä–≤–æ–π –≤–µ—Ä—Å–∏–∏)

**–§–æ—Ä–º–∞—Ç—ã**:
- MD: –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è ‚úÖ
- PDF: placeholder (—Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —à—Ä–∏—Ñ—Ç–æ–≤ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞)

---

### 5. –°–æ–∑–¥–∞–Ω E2E —Ç–µ—Å—Ç

**–§–∞–π–ª**: `tests/integration/test_archery_club_fpg_e2e.py`

**–¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç**: "–õ—É—á–Ω—ã–µ –∫–ª—É–±—ã –ö–µ–º–µ—Ä–æ–≤–æ"

**–î–∞–Ω–Ω—ã–µ**:
- –ù–∞–∑–≤–∞–Ω–∏–µ: "–†–∞–∑–≤–∏—Ç–∏–µ —Å—Ç—Ä–µ–ª—å–±—ã –∏–∑ –ª—É–∫–∞ –≤ –ö–µ–º–µ—Ä–æ–≤–æ"
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—è: –ö–µ–º–µ—Ä–æ–≤–æ, –ö–µ–º–µ—Ä–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å
- –ë—é–¥–∂–µ—Ç: 800 000 —Ä—É–±–ª–µ–π
- –°—Ä–æ–∫: 12 –º–µ—Å—è—Ü–µ–≤
- –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è: –º–æ–ª–æ–¥—ë–∂—å 14-25 –ª–µ—Ç, —Å–µ–º—å–∏ —Å –¥–µ—Ç—å–º–∏

**Pipeline (4 —ç—Ç–∞–ø–∞)**:

#### –≠–¢–ê–ü 1: Interactive Interview + Audit
- –ê–≥–µ–Ω—Ç: InteractiveInterviewerAgent
- –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: user_data (15 –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –±–ª–æ–∫–∞–º)
- –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
  - –ê–Ω–∫–µ—Ç–∞ (24 –ø–æ–ª—è)
  - Audit score (1-100)
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: `anketa_archery_kemerovo_audit.md` + `.pdf`

#### –≠–¢–ê–ü 2: Research + WebSearch
- –ê–≥–µ–Ω—Ç: PresidentialGrantsResearcher
- –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: anketa_id
- –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
  - 27 –±–ª–æ–∫–æ–≤ research (–ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–µ, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ, —Ü–µ–ª–µ–≤—ã–µ)
  - 1 –±–ª–æ–∫ fund_requirements (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –§–ü–ì)
  - –ò—Å—Ç–æ—á–Ω–∏–∫–∏, —Ü–∏—Ç–∞—Ç—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: `research_archery_kemerovo.md` + `.pdf`

#### –≠–¢–ê–ü 3: Grant Writing
- –ê–≥–µ–Ω—Ç: WriterAgentV2
- –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: anketa, research_results
- –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
  - –ì—Ä–∞–Ω—Ç–æ–≤–∞—è –∑–∞—è–≤–∫–∞ (9 —Ä–∞–∑–¥–µ–ª–æ–≤ –§–ü–ì)
  - –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞: #AN-YYYYMMDD-archery_kemerovo-NNN
  - 15000-20000 —Å–∏–º–≤–æ–ª–æ–≤
  - 10+ —Ü–∏—Ç–∞—Ç, 2+ —Ç–∞–±–ª–∏—Ü—ã
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: `grant_AN-YYYYMMDD-archery_kemerovo-NNN.md` + `.pdf`

#### –≠–¢–ê–ü 4: Final Review
- –ê–≥–µ–Ω—Ç: ReviewerAgent
- –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: grant_content, research_results, anketa
- –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
  - –û—Ü–µ–Ω–∫–∞ –ø–æ 4 –∫—Ä–∏—Ç–µ—Ä–∏—è–º (–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω–∞—è –±–∞–∑–∞, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –º–∞—Ç—á–∏–Ω–≥, —ç–∫–æ–Ω–æ–º–∏–∫–∞)
  - Readiness score (0-10)
  - Approval probability (0-100%)
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: `review_AN-YYYYMMDD-archery_kemerovo-NNN.md` + `.pdf`

**Assertions**:
- Audit score >= 60/100
- Total queries == 28 (27 + 1)
- Grant content >= 5000 —Å–∏–º–≤–æ–ª–æ–≤
- Approval probability >= 30%
- Readiness score >= 6/10

---

### 6. –°–æ–∑–¥–∞–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞

**–§–∞–π–ª**: `scripts/generate_archery_grant_local.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–¥–æ–±–Ω—ã–π –∑–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–∞ –±–µ–∑ pytest

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**:
```bash
python scripts/generate_archery_grant_local.py
```

**–í—ã–≤–æ–¥**:
- –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å pipeline
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞—Ö
- –§–∏–Ω–∞–ª—å–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏

---

## üìÇ –°–¢–†–£–ö–¢–£–†–ê –ê–†–¢–ï–§–ê–ö–¢–û–í

```
grants_output/archery_kemerovo/
‚îú‚îÄ‚îÄ anketa_archery_kemerovo_audit.md       # –ê–Ω–∫–µ—Ç–∞ + –∞—É–¥–∏—Ç
‚îú‚îÄ‚îÄ anketa_archery_kemerovo_audit.pdf      # (placeholder)
‚îú‚îÄ‚îÄ research_archery_kemerovo.md           # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ research_archery_kemerovo.pdf          # (placeholder)
‚îú‚îÄ‚îÄ grant_AN-20251012-archery_kemerovo-001.md   # –ì—Ä–∞–Ω—Ç–æ–≤–∞—è –∑–∞—è–≤–∫–∞
‚îú‚îÄ‚îÄ grant_AN-20251012-archery_kemerovo-001.pdf  # (placeholder)
‚îú‚îÄ‚îÄ review_AN-20251012-archery_kemerovo-001.md  # –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
‚îî‚îÄ‚îÄ review_AN-20251012-archery_kemerovo-001.pdf # (placeholder)
```

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### LLM –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã

| –ê–≥–µ–Ω—Ç | LLM Provider | –ü—Ä–∏—á–∏–Ω–∞ –≤—ã–±–æ—Ä–∞ |
|-------|--------------|----------------|
| **InteractiveInterviewer** | GigaChat | –†—É—Å—Å–∫–∏–π —è–∑—ã–∫, –¥–∏–∞–ª–æ–≥ |
| **Auditor** | GigaChat | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (Claude Code API down) |
| **Researcher** | Claude Sonnet 4.5 (LLM) + Perplexity (WebSearch) | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ + –ø–æ–∏—Å–∫ |
| **Writer** | GigaChat | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (Claude Code API down) |
| **Reviewer** | GigaChat | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (Claude Code API down) |

### WebSearch

- **Primary**: Perplexity API
  - URL: `https://api.perplexity.ai`
  - Model: `sonar`
  - ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –†–§ –ë–ï–ó VPN
  - –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$0.01/–∑–∞–ø—Ä–æ—Å (~$0.29 –∑–∞ 28 –∑–∞–ø—Ä–æ—Å–æ–≤)

- **Fallback**: Claude Code WebSearch
  - URL: `http://178.236.17.55:8000`
  - ‚ö†Ô∏è –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

- PostgreSQL (production): 5.35.88.251
- –¢–∞–±–ª–∏—Ü—ã:
  - `sessions` - –∞–Ω–∫–µ—Ç—ã
  - `researcher_research` - research_results (JSONB)
  - `grants` - —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –∑–∞—è–≤–∫–∏
  - `grant_applications` - —Å—Ç–∞—Ç—É—Å—ã

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –û—Ü–µ–Ω–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–∂–∏–¥–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-------------------|----------|
| **Audit Score** | 60-80/100 | –ö–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∫–µ—Ç—ã –ø–æ—Å–ª–µ –∏–Ω—Ç–µ—Ä–≤—å—é |
| **Total Queries** | 28 | 27 –±–∞–∑–æ–≤—ã—Ö + 1 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –§–ü–ì |
| **Grant Content** | 15000-20000 —Å–∏–º–≤–æ–ª–æ–≤ | –û–±—ä—ë–º –≥—Ä–∞–Ω—Ç–æ–≤–æ–π –∑–∞—è–≤–∫–∏ |
| **Citations** | 10+ | –¶–∏—Ç–∞—Ç—ã –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ |
| **Tables** | 2+ | –¢–∞–±–ª–∏—Ü—ã (–ø–ª–∞–Ω-–≥—Ä–∞—Ñ–∏–∫, –±—é–¥–∂–µ—Ç) |
| **Readiness Score** | 6-8/10 | –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø–æ–¥–∞—á–µ |
| **Approval Probability** | 40-50% | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ–¥–æ–±—Ä–µ–Ω–∏—è |

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –≠—Ç–∞–ø | –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è |
|------|-----------------|
| Interview + Audit | 5-10 –º–∏–Ω—É—Ç |
| Research (28 queries) | 10-15 –º–∏–Ω—É—Ç |
| Grant Writing | 5-10 –º–∏–Ω—É—Ç |
| Final Review | 2-5 –º–∏–Ω—É—Ç |
| **–ò–¢–û–ì–û** | **22-40 –º–∏–Ω—É—Ç** |

---

## üöÄ –ó–ê–ü–£–°–ö

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ pytest

```bash
pytest tests/integration/test_archery_club_fpg_e2e.py -v -s
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

```bash
python scripts/generate_archery_grant_local.py
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. ‚úÖ Python 3.9+
2. ‚úÖ PostgreSQL –¥–æ—Å—Ç—É–ø–Ω–∞ (5.35.88.251)
3. ‚úÖ GigaChat API –∫–ª—é—á –≤ `.env`
4. ‚úÖ Perplexity API –∫–ª—é—á –≤ `.env`
5. ‚úÖ Claude Code API –∫–ª—é—á –≤ `.env` (–¥–ª—è Researcher)

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ì–û–¢–û–í–ù–û–°–¢–ò

- [x] –®–ê–ì 1: InteractiveInterviewerAgent —Å–æ–∑–¥–∞–Ω
- [x] –®–ê–ì 2: PresidentialGrantsResearcher —Å–æ–∑–¥–∞–Ω
- [x] –®–ê–ì 3: Writer/Auditor –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω—ã –Ω–∞ GigaChat
- [x] –®–ê–ì 4: E2E —Ç–µ—Å—Ç —Å–æ–∑–¥–∞–Ω
- [x] –®–ê–ì 5: ArtifactSaver —Å–æ–∑–¥–∞–Ω
- [x] –®–ê–ì 6: –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω
- [x] –í—Å–µ —Ñ–∞–π–ª—ã –ù–ï –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ git (–ª–æ–∫–∞–ª—å–Ω–æ)
- [ ] –ü–∞–ø–∫–∞ `grants_output/archery_kemerovo/` —Å–æ–∑–¥–∞–Ω–∞ (—Å–æ–∑–¥–∞—Å—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)
- [x] –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–ª–∞–Ω –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- [x] –û—Ç—á—ë—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï** (—Å–µ–π—á–∞—Å)
   ```bash
   python scripts/generate_archery_grant_local.py
   ```

2. **–ü–†–û–í–ï–†–ö–ê –ê–†–¢–ï–§–ê–ö–¢–û–í**
   - –û—Ç–∫—Ä—ã—Ç—å MD —Ñ–∞–π–ª—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–Ω–æ—Ç—É –¥–∞–Ω–Ω—ã—Ö
   - –û—Ü–µ–Ω–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

3. **–î–û–†–ê–ë–û–¢–ö–ê** (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
   - –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

4. **–î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–ù–ò–ï**
   - –û–±–Ω–æ–≤–∏—Ç—å ARCHITECTURE.md
   - –°–æ–∑–¥–∞—Ç—å USER_GUIDE.md
   - –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å API

5. **–ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í PRODUCTION** (–ø–æ—Å–ª–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
   - Code review
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
   - –ö–æ–º–º–∏—Ç –≤ git
   - –î–µ–ø–ª–æ–π –Ω–∞ production

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

1. **PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**: Placeholder (—Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä—É—Å—Å–∫–∏—Ö —à—Ä–∏—Ñ—Ç–æ–≤)
2. **Claude Code API**: OAuth —Ç–æ–∫–µ–Ω –∏—Å—Ç—ë–∫, —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
3. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –í —Ç–µ—Å—Ç–µ —Å–∏–º—É–ª–∏—Ä—É–µ—Ç—Å—è, —Ä–µ–∞–ª—å–Ω—ã–π –¥–∏–∞–ª–æ–≥ —á–µ—Ä–µ–∑ Telegram
4. **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 28 WebSearch –∑–∞–ø—Ä–æ—Å–æ–≤ = 10-15 –º–∏–Ω—É—Ç

---

## üìù –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ù–ï –≤ git)

1. `agents/interactive_interviewer_agent.py` - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä
2. `agents/presidential_grants_researcher.py` - researcher –¥–ª—è –§–ü–ì
3. `utils/artifact_saver.py` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
4. `tests/integration/test_archery_club_fpg_e2e.py` - E2E —Ç–µ—Å—Ç
5. `scripts/generate_archery_grant_local.py` - –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
6. `.claude/PRESIDENTIAL_GRANTS_INTERACTIVE_PIPELINE_PLAN.md` - –ø–ª–∞–Ω
7. `.claude/PRESIDENTIAL_GRANTS_IMPLEMENTATION_REPORT.md` - –æ—Ç—á—ë—Ç (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ù–ï –≤ git)

1. `shared/llm/config.py` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ Writer/Auditor –Ω–∞ GigaChat

---

## üìû –ö–û–ù–¢–ê–ö–¢–´

**–ê–≤—Ç–æ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: Grant Service Architect Agent
**–î–∞—Ç–∞**: 2025-10-12
**–í–µ—Ä—Å–∏—è**: 1.0
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

---

**–í–ê–ñ–ù–û**: –í—Å—ë –ª–æ–∫–∞–ª—å–Ω–æ, –ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ git –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è!

---

## üéâ –ò–¢–û–ì–û

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π pipeline –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä–∞–Ω—Ç–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫ –Ω–∞ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–µ –≥—Ä–∞–Ω—Ç—ã:

1. ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –∞—É–¥–∏—Ç–æ–º (3 –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö + 1 —Ñ–∏–Ω–∞–ª—å–Ω—ã–π)
2. ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–ª—è –§–ü–ì (27 + 1 –∑–∞–ø—Ä–æ—Å–æ–≤)
3. ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞–Ω—Ç–æ–≤–æ–π –∑–∞—è–≤–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º research_results
4. ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –æ–¥–æ–±—Ä–µ–Ω–∏—è
5. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –≤ MD + PDF (placeholder)
6. ‚úÖ E2E —Ç–µ—Å—Ç –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ "–õ—É—á–Ω—ã–µ –∫–ª—É–±—ã –ö–µ–º–µ—Ä–æ–≤–æ"

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üöÄ
