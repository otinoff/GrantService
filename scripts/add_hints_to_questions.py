#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Простой скрипт для добавления подсказок в вопросы интервью
"""

import sqlite3
import json

# Подсказки для каждого вопроса
hints = [
    (1, 'Пример: Мобильная библиотека для людей с ОВЗ'),
    (2, 'Пример: создадим выездную библиотеку и аудиокниги, чтобы жители сел Новокузнецкого района с ограничениями в здоровье могли бесплатно получить литературу на дом, образовываться и устраиваться на работу'),
    (3, 'Пример: Кемеровская область, новокузнецкий район, пгт…'),
    (4, 'Пример: Сельские жители с ОВЗ Новокузнецкого района не имеют доступа к библиотекам, из-за этого страдает культура и развитие, что приводит к пьянству и невозможности устроиться на работу (по отчету минкультуры 2024)'),
    (5, 'Пример: Охватим 300 взрослых людей с ОВЗ, проживающих по 3 поселкам Новокузнецкого района'),
    (6, 'Пример: Повысить доступность чтения для людей с ОВЗ в сельской местности'),
    (7, 'Пример: 1. Оснастить автобус книжным фондом на 1000 экземпляров 2. Провести информационную компанию, чтобы оповестить людей 3.Провести 20 выездных библиотечных сессий с целевой аудиторией'),
    (8, 'Пример: 01.06.2028-31.12.28 (6 месяцев)'),
    (9, 'Пример: Часть людей может заболеть и не прийти, но мы сделаем запасные даты встреч, чтобы охватить всю целевую аудиторию'),
    (10, 'Пример: Руководитель проекта -Марья Ивановна, директор, НКО, 7 лет работает в доме культуры. Библиотекарь, специалист по рекламе, водитель.'),
    (11, 'Пример: Администрация Новокузнецкого района, Дом культуры Села …., Добровольческий фонд "Надежда"'),
    (12, 'Пример, да, АНО "Читай-село", ОГРН ….,дата регистрации 15.06.2021, да, п.2.3 устава "Культурно-просветительская деятельность"'),
    (13, 'Укажите ссылки на сайт, социальные сети, если есть'),
    (14, 'Пример: да, ФПГ, 2023, 450 000, отчет 100% сдан'),
]

def add_hints():
    """Добавить подсказки в базу данных"""
    db_path = "/var/GrantService/data/grantservice.db"
    
    try:
        conn = sqlite3.connect(db_path)
        cursor = conn.cursor()
        
        print("Добавление подсказок в базу данных...")
        
        for question_number, hint_text in hints:
            cursor.execute("""
                UPDATE interview_questions 
                SET hint_text = ? 
                WHERE question_number = ?
            """, (hint_text, question_number))
            
            if cursor.rowcount > 0:
                print(f"  Вопрос {question_number}: подсказка добавлена")
            else:
                print(f"  Вопрос {question_number}: не найден в базе")
        
        conn.commit()
        print("\nПодсказки успешно добавлены!")
        
        # Проверяем результат
        cursor.execute("""
            SELECT question_number, 
                   CASE WHEN hint_text IS NOT NULL THEN 'Есть' ELSE 'Нет' END as has_hint
            FROM interview_questions 
            ORDER BY question_number
        """)
        
        print("\nПроверка подсказок:")
        for row in cursor.fetchall():
            print(f"  Вопрос {row[0]}: {row[1]}")
        
        conn.close()
        
    except Exception as e:
        print(f"Ошибка: {e}")

if __name__ == "__main__":
    add_hints()