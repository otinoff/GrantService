#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–®–∞–±–ª–æ–Ω—ã —Ç–µ–∫—Å—Ç–æ–≤ –¥–ª—è Telegram Bot
"""

from typing import Dict, Any, List

class TextTemplates:
    """–ö–ª–∞—Å—Å –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤ —Ç–µ–∫—Å—Ç–æ–≤"""
    
    @staticmethod
    def welcome_message(user_name: str = None) -> str:
        """–®–∞–±–ª–æ–Ω –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è"""
        if user_name:
            return f"""–ü—Ä–∏–≤–µ—Ç, {user_name}! 

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ì—Ä–∞–Ω—Ç–°–µ—Ä–≤–∏—Å - –≤–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≥—Ä–∞–Ω—Ç–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫.

–ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º:
‚Ä¢ –ü—Ä–æ–≤–æ–¥–∏–º –¥–µ—Ç–∞–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é –æ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ
‚Ä¢ –ò—Å—Å–ª–µ–¥—É–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –Ω–∞—Ö–æ–¥–∏–º –ø–æ—Ö–æ–∂–∏–µ –ø—Ä–æ–µ–∫—Ç—ã
‚Ä¢ –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –∑–∞—è–≤–∫—É –Ω–∞ –≥—Ä–∞–Ω—Ç
‚Ä¢ –ü—Ä–æ–≤–æ–¥–∏–º –∞—É–¥–∏—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –¥–∞–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å? –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –º–µ–Ω—é –Ω–∏–∂–µ."""
        else:
            return """–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ì—Ä–∞–Ω—Ç–°–µ—Ä–≤–∏—Å!

–í–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≥—Ä–∞–Ω—Ç–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫.

–ß—Ç–æ –º—ã –¥–µ–ª–∞–µ–º:
‚Ä¢ –ü—Ä–æ–≤–æ–¥–∏–º –¥–µ—Ç–∞–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é –æ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ
‚Ä¢ –ò—Å—Å–ª–µ–¥—É–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –Ω–∞—Ö–æ–¥–∏–º –ø–æ—Ö–æ–∂–∏–µ –ø—Ä–æ–µ–∫—Ç—ã
‚Ä¢ –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –∑–∞—è–≤–∫—É –Ω–∞ –≥—Ä–∞–Ω—Ç
‚Ä¢ –ü—Ä–æ–≤–æ–¥–∏–º –∞—É–¥–∏—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –¥–∞–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å? –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –º–µ–Ω—é –Ω–∏–∂–µ."""
    
    @staticmethod
    def question_text(question_number: int, total_questions: int, question_text: str, hint_text: str = None) -> str:
        """–®–∞–±–ª–æ–Ω —Ç–µ–∫—Å—Ç–∞ –≤–æ–ø—Ä–æ—Å–∞"""
        text = f"""–í–æ–ø—Ä–æ—Å {question_number} –∏–∑ {total_questions}

{question_text}"""
        
        if hint_text:
            text += f"\n\nüí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: {hint_text}"
        
        return text
    
    @staticmethod
    def review_screen(filled_questions: int, total_questions: int, answers: Dict[str, Any]) -> str:
        """–®–∞–±–ª–æ–Ω —ç–∫—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏"""
        progress_percent = int((filled_questions / total_questions) * 100)
        
        text = f"""üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∞–Ω–∫–µ—Ç—ã

–ü—Ä–æ–≥—Ä–µ—Å—Å: {filled_questions}/{total_questions} ({progress_percent}%)

–í–∞—à–∏ –æ—Ç–≤–µ—Ç—ã:"""
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫—Ä–∞—Ç–∫—É—é —Å–≤–æ–¥–∫—É –æ—Ç–≤–µ—Ç–æ–≤
        for field_name, answer in answers.items():
            if answer:
                # –û–±—Ä–µ–∑–∞–µ–º –¥–ª–∏–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
                short_answer = answer[:50] + "..." if len(answer) > 50 else answer
                text += f"\n‚Ä¢ {field_name}: {short_answer}"
        
        text += "\n\n–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤ –∏ –Ω–∞–∂–º–∏—Ç–µ '–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É' –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏."
        
        return text
    
    @staticmethod
    def application_status(status: str, details: str = None) -> str:
        """–®–∞–±–ª–æ–Ω —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏"""
        status_emojis = {
            'pending': '‚è≥',
            'processing': 'üîÑ',
            'completed': '‚úÖ',
            'rejected': '‚ùå',
            'review': 'üëÄ'
        }
        
        emoji = status_emojis.get(status, 'üìã')
        
        text = f"{emoji} –°—Ç–∞—Ç—É—Å –≤–∞—à–µ–π –∑–∞—è–≤–∫–∏: {status.title()}"
        
        if details:
            text += f"\n\n{details}"
        
        return text
    
    @staticmethod
    def payment_info(amount: float, description: str) -> str:
        """–®–∞–±–ª–æ–Ω –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ–ø–ª–∞—Ç–µ"""
        return f"""üí≥ –û–ø–ª–∞—Ç–∞ —É—Å–ª—É–≥

–°—É–º–º–∞: {amount} ‚ÇΩ
–û–ø–∏—Å–∞–Ω–∏–µ: {description}

–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:"""
    
    @staticmethod
    def about_service() -> str:
        """–®–∞–±–ª–æ–Ω –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ—Ä–≤–∏—Å–µ"""
        return """‚ÑπÔ∏è –û –ì—Ä–∞–Ω—Ç–°–µ—Ä–≤–∏—Å–µ

–ú—ã –ø–æ–º–æ–≥–∞–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≥—Ä–∞–Ω—Ç–æ–≤—ã–µ –∑–∞—è–≤–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞.

–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
‚Ä¢ –î–µ—Ç–∞–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é –æ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ
‚Ä¢ –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞—è–≤–∫–∏
‚Ä¢ –ê—É–¥–∏—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö

–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:"""
    
    @staticmethod
    def error_message(error_type: str, details: str = None) -> str:
        """–®–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ"""
        error_templates = {
            'database': '‚ùå –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö',
            'network': 'üåê –û—à–∏–±–∫–∞ —Å–µ—Ç–∏',
            'validation': '‚ö†Ô∏è –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏',
            'unknown': '‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'
        }
        
        text = error_templates.get(error_type, '‚ùå –û—à–∏–±–∫–∞')
        
        if details:
            text += f"\n\n{details}"
        
        text += "\n\n–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É."
        
        return text
    
    @staticmethod
    def success_message(action: str) -> str:
        """–®–∞–±–ª–æ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ"""
        success_templates = {
            'answer_saved': '‚úÖ –û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω!',
            'application_submitted': '‚úÖ –ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É!',
            'payment_successful': '‚úÖ –û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!',
            'status_updated': '‚úÖ –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª–µ–Ω!'
        }
        
        return success_templates.get(action, '‚úÖ –û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!') 