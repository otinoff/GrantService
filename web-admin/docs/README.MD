–ü—Ä–∏–≤–µ—Ç, –ê–Ω–¥—Ä–µ–π! –î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–æ–µ–∫—Ç GrantService –≤ –ø–∞–ø–∫–µ web-admin. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã.
```bash
date
```
Ran tool
–û—Ç–ª–∏—á–Ω–æ! –í–∏–∂—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ web-admin. –î–∞–≤–∞–π—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –∏–∑—É—á–∏–º –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
Ran tool
Ran tool
Ran tool
Ran tool
–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
Read file: /var/GrantService/web-admin/requirements.txt
Read file: /var/GrantService/web-admin/main_admin.py
Read file: /var/GrantService/web-admin/admin_panel_fastapi.py
–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ backend —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
Ran tool
Ran tool
Ran tool
Ran tool
–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∫–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
Read file: /var/GrantService/web-admin/pages/üè†_–ì–ª–∞–≤–Ω–∞—è.py
Read file: /var/GrantService/web-admin/utils/database.py
–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –æ—Å—Ç–∞–ª—å–Ω—É—é —á–∞—Å—Ç—å database.py –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥—Ä—É–≥–∏–µ –∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã:
Read file: /var/GrantService/web-admin/utils/database.py
Read file: /var/GrantService/web-admin/backend/models/question.py
Read file: /var/GrantService/web-admin/pages/üë•_–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.py
–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ª–æ–≥–∏:
```bash
ls -la /var/GrantService/web-admin/venv/
```
Read file: /var/GrantService/web-admin/nohup.out
```bash
ps aux | grep -E "(streamlit|uvicorn|python.*admin)" | grep -v grep
```
–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–ª—é—á–µ–≤—ã–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã:
Read file: /var/GrantService/web-admin/pages/üî¨_–ê–Ω–∞–ª–∏—Ç–∏–∫–∞_–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è.py
Read file: /var/GrantService/web-admin/utils/charts.py
Ran tool
–û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–º –æ–±—â–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ GrantService web-admin:
Ran tool
## üèÜ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ GrantService Web-Admin

–ê–Ω–¥—Ä–µ–π, –æ—Ç–ª–∏—á–Ω—ã–π –ø—Ä–æ–µ–∫—Ç! [[memory:3912903]] –ü—Ä–æ–µ–∫—Ç GrantService –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º. –í–æ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑:

### üìä **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã**

**–î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:**
1. **Streamlit Dashboard** (–ø–æ—Ä—Ç 8501) - –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. **FastAPI Server** (–ø–æ—Ä—Ç 8000) - API –±—ç–∫–µ–Ω–¥

### üéØ **–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

**Frontend (Streamlit):**
- üì± **–ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã, –º–µ—Ç—Ä–∏–∫–∏
- üë• **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** - –ø—Ä–æ–≥—Ä–µ—Å—Å –∞–Ω–∫–µ—Ç, —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- üî¨ **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Perplexity AI
- ‚ùì **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞–º–∏** - –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–Ω—Ç–µ—Ä–≤—å—é
- üßë‚Äçüíº **Agent Prompts** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏ –ò–ò

**Backend (FastAPI):**
- REST API –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ –±–æ—Ç–∞
- –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ endpoint'—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram API

**Database Layer:**
- SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
- –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### üíª **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**

‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ:**
- Streamlit —Å–µ—Ä–≤–µ—Ä –∞–∫—Ç–∏–≤–µ–Ω (PID 841)
- FastAPI —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω (PID 840) 
- –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞**

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ venv [[memory:3912903]]
- –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API (Telegram, Perplexity)
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫: FastAPI + Streamlit + Plotly

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**
1. –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ (–ø–∞–ø–∫–∞ logs –ø—É—Å—Ç–∞—è)
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π restart –ø—Ä–∏ —Å–±–æ—è—Ö
3. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö

### üìà **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞–Ω—Ç–æ–≤—ã–º —Å–µ—Ä–≤–∏—Å–æ–º:
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ò–ò-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–≤—å—é –∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! –ù—É–∂–Ω–æ —á—Ç–æ-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —É–ª—É—á—à–∏—Ç—å?

---

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### üìã –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã GrantService:

1. **`grantservice-bot.service`** - Telegram Bot (–æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç)
2. **`grantservice-web-admin.service`** - FastAPI —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8000)
3. **`grantservice-webadmin.service`** - Streamlit –ø–∞–Ω–µ–ª—å (–ø–æ—Ä—Ç 8501)

### üöÄ –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

#### üîÑ –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ GrantService
systemctl restart grantservice-bot.service
systemctl restart grantservice-web-admin.service  
systemctl restart grantservice-webadmin.service
```

#### üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
systemctl status grantservice-*.service

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
systemctl status grantservice-webadmin.service      # Streamlit
systemctl status grantservice-web-admin.service     # FastAPI
systemctl status grantservice-bot.service           # Telegram Bot
```

#### üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞/–∑–∞–ø—É—Å–∫:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
systemctl stop grantservice-webadmin.service
systemctl stop grantservice-web-admin.service

# –ó–∞–ø—É—Å–∫
systemctl start grantservice-webadmin.service
systemctl start grantservice-web-admin.service
```

#### üìù –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ systemd:
```bash
# –õ–æ–≥–∏ Streamlit –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
journalctl -u grantservice-webadmin.service -f

# –õ–æ–≥–∏ FastAPI —Å–µ—Ä–≤–µ—Ä–∞
journalctl -u grantservice-web-admin.service -f

# –õ–æ–≥–∏ Telegram –±–æ—Ç–∞
journalctl -u grantservice-bot.service -f
```

### üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep -E "(streamlit|uvicorn|python.*admin)" | grep -v grep

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
netstat -tlnp | grep -E "(8000|8501)"
```

---

## üìã –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è v2.0

### üìÅ –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ª–æ–≥–æ–≤:
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏:** `/var/GrantService/web-admin/logs/`
- **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** `web_admin.log`, `database.log`, `api.log`
- **–¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏:** `*_errors.log`
- **–î–Ω–µ–≤–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è:** `*_daily.log`

### üéõÔ∏è Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
- **URL:** http://your-domain:8501
- **–°—Ç—Ä–∞–Ω–∏—Ü–∞:** üìã –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤
- **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:** –ø—Ä–æ—Å–º–æ—Ç—Ä, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ, –∞–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫

### üö® –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö JS (MIME type):
1. **–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞** (Ctrl+F5)
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Streamlit:** `systemctl restart grantservice-webadmin.service`
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:** `/var/GrantService/web-admin/logs/web_admin_errors.log`

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 15.08.2025 - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è v2.0*

graph TB
    subgraph "GrantService Web Admin Architecture"
        direction TB
        
        subgraph "Frontend Layer"
            SL[Streamlit Dashboard<br/>Port 8501]
            FE[Frontend/React<br/>src/views/]
        end
        
        subgraph "Backend Layer"
            FA[FastAPI Server<br/>Port 8000]
            API[Backend API<br/>api/questions.py]
            SRV[Services<br/>question_service.py]
        end
        
        subgraph "Data Layer"
            DB[(SQLite Database<br/>GrantService.db)]
            UTIL[Utils<br/>database.py<br/>charts.py<br/>logger.py]
        end
        
        subgraph "Core Features"
            USR["üë• Users Management"]
            ANL["üî¨ Researcher Analytics"]
            QST["‚ùì Questions Management"] 
            PRO["üßë‚Äçüíº Agent Prompts"]
            TST["üß™ Test Prompts"]
        end
        
        SL --> USR
        SL --> ANL
        SL --> QST
        SL --> PRO
        SL --> TST
        
        FA --> API
        API --> SRV
        SRV --> DB
        
        USR --> UTIL
        ANL --> UTIL
        QST --> UTIL
        UTIL --> DB
        
        FE -.-> FA
        SL -.-> FA
    end
    
    subgraph "External"
        TG[Telegram Bot<br/>Main Service]
        PX[Perplexity AI<br/>Research Service]
    end
    
    FA --> TG
    ANL --> PX
    
    style SL fill:#e1f5fe
    style FA fill:#f3e5f5
    style DB fill:#e8f5e8
    style TG fill:#fff3e0
    style PX fill:#fce4ec